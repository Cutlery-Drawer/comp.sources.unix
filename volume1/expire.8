Date: Mon, 11 Feb 85 08:20:41 pst
From: decvax!ihnp4!uw-beaver!entropy!dataio!bossert (John Bossert)
Subject: Manual page for 2.10.2 expire(8)
Newsgroups: mod.sources

Some sites apparently didn't get this.  Hope it helps.

#	This is a shell archive.
#	Remove everything above and including the cut line.
#	Then run the rest of the file through sh.
-----cut here-----cut here-----cut here-----cut here-----
#!/bin/sh
# shar:	Shell Archiver
#	Run the following text with /bin/sh to create:
#	expire.8
# This archive created: Mon Feb 11 08:18:23 1985
# By:	John Bossert (Data I/O Corporation, Redmond WA)
sed 's/^X//' << \SHAR_EOF > expire.8
X.TH EXPIRE 8 "14 January 1985"
X.SH NAME
X\fBexpire\fR \- remove outdated news articles
X.SH SYNOPSIS
X\fBexpire\fR 
X[\fB\-n\fR \fInewsgroups\fR]
X[\fB\-i\fR]
X[\fB\-I\fR]
X[\fB\-v\fR \fIlevel\fR]
X[\fB\-e\fR \fIdays\fR]
X[\fB\-a\fR \fR[\fPnewsgroups\fR]]\fP
X.br
X\fBexpire\fR
X\fB\-p\fR
X.br
X\fBexpire\fR
X\fB\-r\fR
X.br
X\fBexpire\fR
X\fB\-f\fR \fIaccount\fR
X[\fB\-e\fR \fIdays\fR]
X.br
X\fBexpire\fR
X\fB\-u\fR
X.SH DESCRIPTION
X.B Expire
Xis used to clean the spool directory of old news.
XIt is normally executed by \fIcron\fR(8) every night.
X.B Expire
Xwith no arguments will remove those articles older than a site dependent age.
XThe age of an article is determined from its creation
Xdate or from an Expire: field in the article header.
X.PP
XThe following flags are valid:
X.TP 10
X\fB\-a\fR \fR[\fInewsgroups\fR]\fP
XArchive the expired articles from the selected \fInewsgroups\fR
Xin /usr/spool/oldnews.
XWith no argument, all expired articles will be archived.
X.TP 10
X\fB\-e\fR \fR[\fIdays\fR]\fP
XRemove articles older than \fIdays\fR days.
XThe default is site specific, often 14.
X.TP 10
X\fB\-f\fR \fR[\fIuser\fR]\fP
XExpire all messages sent by \fIuser\fR.
XThe next parameter is used as the name and is in the same
Xformat as the From: line in the header (i.e. account@site.UUCP).
XThis is often used when a notes site resends a batch of old news.
X.TP 10
X\fB\-h\fR
XIgnore the history file if it exists.
X.B Expire
Xwill search the entire spool directory, 
Xopen each file in it and check the header for expirations. 
XThis method is a couple of orders of magnitude less efficient than 
Xusing a history file,
Xbut if you have trashed your history file 
Xor have had things drop out of the history file for some reason,
Xthis will track them down and remove them.
X.TP 10
X\fB\-I\fR
X.TP 10
X\fB\-i\fR
XIgnore any expiration date explicitly given on articles.
XThis can be used when disk space is really tight.
XThe 
X.B \-I
Xflag will always ignore expiration dates,
Xwhile the
X.B \-i
Xflag will only ignore the date if ignoring it would expire the article sooner.
X.I WARNING:
XIf you have articles archived by giving them expiration dates far into the
Xfuture, these options might cause them to be removed.
X.TP 10
X\fB\-n\fR \fInewsgroups\fR
XExpire the selected \fInewsgroups\fR.
X.TP 10
X\fB\-p\fR
XUse the posting date rather than the received date to expire articles.
X.TP 10
X\fB\-r\fR
XRebuild the history file. 
X.B Expire 
Xsearches the entire spool directory and
Xconstructs a new history entry for each article found.
XRebuilding the history file also rebuilds the associated DBM files.
X.TP 10
X\fB\-u\fR
XUpdate the minimum article number field in the active file.
XThis is normally used only while converting from 2.10.1 news system to 2.10.2.
X.TP 10
X\fB\-v\fR \fR[\fIlevel\fR]\fP
XVerbosity level from 1 to 3 (default 1). 
XGood for debugging or when articles aren't being properly expired.
X.SH SEE ALSO
X.BR checknews (1),
X.BR inews (1),
X.BR readnews (1),
X.BR recnews (8),
X.BR sendnews (8),
X.BR uurec (8),
X.BR vnews (1)
SHAR_EOF
#	End of shell archive
exit 0


