From rick@seismo.CSS.GOV Fri Sep 25 19:50:57 1987
Path: seismo!rick
From: rick@seismo.CSS.GOV (Rick Adams)
Newsgroups: news.software.b
Subject: 2.11 news src patch #9
Keywords: #10 is coming very soon
Message-ID: <44098@beno.seismo.CSS.GOV>
Date: 25 Sep 87 23:50:57 GMT
Organization: Center for Seismic Studies, Arlington, VA
Lines: 1637

Description:
	This is patch #9 for news 2.11 src. Patch #10 will follow in a
	few days. You can wait for both of them before applying them.
	(They were to big to fit in one patch.)

	Parallelize the makefile and remove the unused unbatch command.
	Make checkgroups a little more robust.
	Allow fullnames with embedded hyphens.
	Keep getdate from running off the end of a buffer.
	Various lint fixes.
	Various Xenix fixes.
	Update the newsgroups lists so virgin installations have a
	reasonably accurate newsgroup list.
	Fix "make install" to work if the existing binaries are already
	in use.
	Sendbatch now stops batching when the first file of artciles to
	be batched is exhausted.

Fix:
	cd to the src directory and apply the following patch.

Index: Makefile.dst
Prereq: 1.23
*** .d/Makefile.dst	Tue Mar 24 13:51:18 1987
--- Makefile.dst	Thu Sep 24 18:13:35 1987
***************
*** 1,2
! # '@(#)Makefile.dst	1.23	3/23/87'
  # Generic Makefile.

--- 1,2 -----
! # '@(#)Makefile.dst	1.24	9/24/87'
  # Generic Makefile.
***************
*** 5,6
  
  # definitions

--- 5,9 -----
  
+ # We MUST use the Bourne shell during the install phase
+ SHELL=/bin/sh
+ 
  # definitions
***************
*** 16,17
  
  NEWSUSR = news

--- 19,23 -----
  
+ # Support for Parallel Make files on a Sequent
+ #P=&
+ 
  NEWSUSR = news
***************
*** 71,73
  #USG MISC = ftime.o
! OBJECTS = funcs.o funcs2.o getdate.o header.o ndir.o $(MISC)
  IOBJECTS = inews.o ifuncs.o iextern.o control.o fullname.o \

--- 77,79 -----
  #USG MISC = ftime.o
! OBJECTS = funcs.o funcs2.o header.o ndir.o $(MISC) getdate.o 
  IOBJECTS = inews.o ifuncs.o iextern.o control.o fullname.o \
***************
*** 73,75
  IOBJECTS = inews.o ifuncs.o iextern.o control.o fullname.o \
! 	ipathinit.o $(OBJECTS)
  

--- 79,81 -----
  IOBJECTS = inews.o ifuncs.o iextern.o control.o fullname.o \
! 	$(OBJECTS) ipathinit.o 
  
***************
*** 77,83
  ROBJECTS = readnews.o rfuncs.o rfuncs2.o rextern.o readr.o \
! 	process.o rpathinit.o digest.o $(OBJECTS)
! VOBJECTS = readnews.o rfuncs.o rfuncs2.o rextern.o process.o rpathinit.o \
! 	$(OBJECTS) visual.o virtterm.o
! EXPOBJS = expire.o header.o funcs.o getdate.o iextern.o epathinit.o \
! 	funcs2.o ndir.o $(MISC)
  

--- 83,89 -----
  ROBJECTS = readnews.o rfuncs.o rfuncs2.o rextern.o readr.o \
! 	process.o digest.o $(OBJECTS) rpathinit.o 
! VOBJECTS = readnews.o rfuncs.o rfuncs2.o rextern.o process.o \
! 	$(OBJECTS) visual.o virtterm.o rpathinit.o 
! EXPOBJS = expire.o header.o funcs.o getdate.o iextern.o \
! 	funcs2.o ndir.o $(MISC) epathinit.o 
  
***************
*** 92,94
  	funcs2.c
! OSRCS = uurec.c recnews.c sendnews.c batch.c unbatch.c caesar.c \
  	recmail.c compress.c

--- 98,100 -----
  	funcs2.c
! OSRCS = uurec.c recnews.c sendnews.c batch.c caesar.c \
  	recmail.c compress.c
***************
*** 95,97
  
! UTILS = inews uurec recnews sendnews expire batch unbatch caesar recmail \
  	encode decode $(COMPRESS)

--- 101,103 -----
  
! UTILS = uurec recnews sendnews expire batch caesar recmail \
  	encode decode $(COMPRESS)
***************
*** 98,100
  SCRIPTS = sendbatch rmgroup checkgroups
! OTHERS = $(UTILS) $(SCRIPTS)
  COMMANDS = readnews checknews postnews vnews

--- 104,106 -----
  SCRIPTS = sendbatch rmgroup checkgroups
! OTHERS = inews $(UTILS) $(SCRIPTS)
  COMMANDS = readnews checknews postnews vnews
***************
*** 102,104
  # dependencies
! all: $(OTHERS) $(COMMANDS)
  

--- 108,110 -----
  # dependencies
! all: $(P) $(OTHERS) $(COMMANDS)
  
***************
*** 105,106
  install: all help vnews.help
  	-mkdir $(DESTDIR)$(BINDIR)

--- 111,113 -----
  install: all help vnews.help
+ 	chmod 755 ./installit
  	-mkdir $(DESTDIR)$(BINDIR)
***************
*** 107,121
  	-mkdir $(DESTDIR)$(LIBDIR)
! 	cp $(COMMANDS) $(DESTDIR)$(BINDIR)
! 	-cd $(DESTDIR)$(BINDIR); \
! 		strip $(COMMANDS); \
! 		chown $(NEWSUSR) $(COMMANDS); \
! 		chgrp $(NEWSGRP) $(COMMANDS); \
! 		chmod 755 $(COMMANDS)
! 	cp help vnews.help $(OTHERS) $(DESTDIR)$(LIBDIR)
! 	cd $(DESTDIR)$(LIBDIR); \
! 		strip $(UTILS); \
! 		chown $(NEWSUSR) $(OTHERS); \
! 		chgrp $(NEWSGRP) $(OTHERS); \
! 		chmod 755 $(OTHERS)
! 	-rm -f $(DESTDIR)$(BINDIR)/rnews $(DESTDIR)$(BINDIR)/inews
  	${LNRNEWS} $(DESTDIR)$(LIBDIR)/inews $(DESTDIR)$(BINDIR)/rnews

--- 114,131 -----
  	-mkdir $(DESTDIR)$(LIBDIR)
! 	for i in $(COMMANDS); do \
! 		./installit -m 755 -o $(NEWSUSR) -g $(NEWSGRP) -s $$i \
! 			$(DESTDIR)$(BINDIR); \
! 	done
! 	cp help vnews.help $(DESTDIR)$(LIBDIR)
! 	for i in $(UTILS); do \
! 		./installit -m 755 -o $(NEWSUSR) -g $(NEWSGRP) -s $$i \
! 			$(DESTDIR)$(LIBDIR); \
! 	done
! 	for i in $(SCRIPTS); do \
! 		./installit -m 755 -o $(NEWSUSR) -g $(NEWSGRP) $$i \
! 		$(DESTDIR)$(LIBDIR); \
! 	done
! 	./installit -m 6755 -o $(NEWSUSR) -g $(NEWSGRP) -s inews \
! 		$(DESTDIR)$(LIBDIR)
! 	-rm -f $(DESTDIR)$(BINDIR)/rnews 
  	${LNRNEWS} $(DESTDIR)$(LIBDIR)/inews $(DESTDIR)$(BINDIR)/rnews
***************
*** 121,124
  	${LNRNEWS} $(DESTDIR)$(LIBDIR)/inews $(DESTDIR)$(BINDIR)/rnews
- 	chown $(NEWSUSR) $(DESTDIR)$(LIBDIR)/inews
- 	chgrp $(NEWSGRP) $(DESTDIR)$(LIBDIR)/inews
  	chmod 6755 $(DESTDIR)$(LIBDIR)/inews $(DESTDIR)$(BINDIR)/rnews

--- 131,132 -----
  	${LNRNEWS} $(DESTDIR)$(LIBDIR)/inews $(DESTDIR)$(BINDIR)/rnews
  	chmod 6755 $(DESTDIR)$(LIBDIR)/inews $(DESTDIR)$(BINDIR)/rnews
***************
*** 160,162
  
! inews:  $(IOBJECTS)
  	$(CC) $(LFLAGS) $(IOBJECTS) -o inews $(LIBS)  #NOTVMS

--- 168,170 -----
  
! inews:  $(P) $(IOBJECTS)
  	$(CC) $(LFLAGS) $(IOBJECTS) -o inews $(LIBS)  #NOTVMS
***************
*** 166,168
  
! readnews:  $(ROBJECTS)
  	$(CC) $(LFLAGS) $(ROBJECTS) -o readnews $(LIBS)

--- 174,176 -----
  
! readnews:  $(P) $(ROBJECTS)
  	$(CC) $(LFLAGS) $(ROBJECTS) -o readnews $(LIBS)
***************
*** 192,194
  
! postnews: $(POBJECTS)
  	$(CC) $(CFLAGS) $(LFLAGS) $(POBJECTS) -o postnews

--- 200,202 -----
  
! postnews: $(P) $(POBJECTS)
  	$(CC) $(CFLAGS) $(LFLAGS) $(POBJECTS) -o postnews
***************
*** 217,219
  
! vnews:	$(VOBJECTS)
  	$(CC) $(LFLAGS) $(VOBJECTS) $(TERMLIB) $(LIBS) -o $@

--- 225,227 -----
  
! vnews:	$(P) $(VOBJECTS)
  	$(CC) $(LFLAGS) $(VOBJECTS) $(TERMLIB) $(LIBS) -o $@
***************
*** 252,257
  
- unbatch:  unbatch.c Makefile
- 	$(CC) $(CFLAGS) $(LFLAGS) unbatch.c -o unbatch
- #VMS 	mv unbatch.exe unbatch
- 
  encode:	encode.c

--- 260,261 -----
  
  encode:	encode.c
***************
*** 279,281
  
! checknews:  checknews.o process.o cpathinit.o rextern.o
  	$(CC) $(LFLAGS) checknews.o process.o cpathinit.o rextern.o -o checknews

--- 283,285 -----
  
! checknews:  $(P) checknews.o process.o cpathinit.o rextern.o
  	$(CC) $(LFLAGS) checknews.o process.o cpathinit.o rextern.o -o checknews
***************
*** 305,307
  
! expire: $(EXPOBJS)
  	$(CC) $(LFLAGS) -o expire $(EXPOBJS) $(LIBS)

--- 309,311 -----
  
! expire: $(P) $(EXPOBJS)
  	$(CC) $(LFLAGS) -o expire $(EXPOBJS) $(LIBS)
Index: checkgroups.sh
Prereq: 1.22
*** .d/checkgroups.sh	Tue Mar 24 13:51:19 1987
--- checkgroups.sh	Thu Sep 24 18:13:24 1987
***************
*** 1,3
  : check active file for missing or extra newsgroups
! : '@(#)checkgroups	1.22	3/20/87'
  

--- 1,3 -----
  : check active file for missing or extra newsgroups
! : '@(#)checkgroups	1.23	9/24/87'
  
***************
*** 7,8
  fi
  # Read first line of stdin.  If of the form "-n group", then only check

--- 7,9 -----
  fi
+ echo "" >/tmp/$$out
  # Read first line of stdin.  If of the form "-n group", then only check
***************
*** 9,11
  # for the specified group.  Otherwise, assume doing standard groups
! sed -e '/^[a-zA-Z-]*: /d' -e '/^$/d' -e '/^[#:]/d' | (
  read line

--- 10,12 -----
  # for the specified group.  Otherwise, assume doing standard groups
! sed -e "/^From: /w /tmp/$$out" -e '/^[a-zA-Z-]*: /d' -e '/^$/d' -e '/^[#:]/d' | (
  read line
***************
*** 16,18
  	# Then append entries for this group.
! 	group=`echo "${line}" | sed -e 's/-n /^/' -e 's/$/\\\\./'`
  	egrep -v "${group}" LIBDIR/newsgroups > /tmp/$$a

--- 17,19 -----
  	# Then append entries for this group.
! 	group=`echo "x${line}" | sed -e 's/x-n /^/' -e 's/$/[. 	]/'`
  	egrep -v "${group}" LIBDIR/newsgroups > /tmp/$$a
***************
*** 33,35
  			group=`cat /tmp/$$b`
! 			group="${group}|^$dist\\."
  			echo "${group}" > /tmp/$$b

--- 34,36 -----
  			group=`cat /tmp/$$b`
! 			group="${group}|^$dist[. 	]"
  			echo "${group}" > /tmp/$$b
***************
*** 45,47
  egrep "${group}" LIBDIR/active | sed 's/ .*//' | sort >/tmp/$$active
! egrep "${group}" LIBDIR/newsgroups | sed 's/	.*//' | sort >/tmp/$$newsgrps
  

--- 46,48 -----
  egrep "${group}" LIBDIR/active | sed 's/ .*//' | sort >/tmp/$$active
! egrep "${group}" LIBDIR/newsgroups | sed 's/[ 	].*//' | sort >/tmp/$$newsgrps
  
***************
*** 64,65
  
  if test -s /tmp/$$remove

--- 65,67 -----
  
+ echo "" >>/tmp/$$out
  if test -s /tmp/$$remove
***************
*** 67,69
  	(
! 	echo "The following newsgroups are not valid and should be removed."
  	sed "s/^/	/" /tmp/$$remove

--- 69,71 -----
  	(
! 	echo "The following newsgroups are non-standard."
  	sed "s/^/	/" /tmp/$$remove
***************
*** 70,72
  	echo ""
! 	echo "You can do this by executing the command:"
  	echo \	LIBDIR/rmgroup `cat /tmp/$$remove`

--- 72,74 -----
  	echo ""
! 	echo "You can remove them by executing the commands:"
  	echo \	LIBDIR/rmgroup `cat /tmp/$$remove`
***************
*** 73,75
  	echo ""
! 	) 2>&1 >/tmp/$$out
  fi

--- 75,77 -----
  	echo ""
! 	) 2>&1 >>/tmp/$$out
  fi
Index: compress.c
Prereq: 1.13
*** .d/compress.c	Wed Dec 17 18:23:02 1986
--- compress.c	Thu Sep 24 18:13:39 1987
***************
*** 1,3
  #ifdef SCCSID
! static char	*SccsId = "@(#)compress.c	1.13	12/16/86";
  #endif /* SCCSID */

--- 1,3 -----
  #ifdef SCCSID
! static char	*SccsId = "@(#)compress.c	1.14	9/24/87";
  #endif /* SCCSID */
***************
*** 75,77
  #  define BITS PBITS
! # endif BITS
  #endif /* PBITS */

--- 75,77 -----
  #  define BITS PBITS
! # endif /* BITS */
  #endif /* PBITS */
***************
*** 160,162
  #ifdef COMPATIBLE		/* But wrong! */
! # define MAXCODE(n_bits)	(1 << (n_bits) - 1)
  #else

--- 160,162 -----
  #ifdef COMPATIBLE		/* But wrong! */
! # define MAXCODE(n_bits)	(1L << (n_bits) - 1)
  #else
***************
*** 162,164
  #else
! # define MAXCODE(n_bits)	((1 << (n_bits)) - 1)
  #endif /* COMPATIBLE */

--- 162,164 -----
  #else
! # define MAXCODE(n_bits)	((1L << (n_bits)) - 1)
  #endif /* COMPATIBLE */
***************
*** 1093,1095
  #else
! code_int sorttab[SSIZE];	/* sorted pointers into htab */
  #define stabof(i) (sorttab[i])

--- 1093,1095 -----
  #else
! code_int sorttab[HSIZE];	/* sorted pointers into htab */
  #define stabof(i) (sorttab[i])
***************
*** 1148,1151
  	   de_stack[--stack_top] = '"';
! 	   for ( ; ent != NULL;
! 		   ent = (ent >= FIRST ? tab_prefixof(ent) : NULL) ) {
  	       stack_top = in_stack(tab_suffixof(ent), stack_top);

--- 1148,1151 -----
  	   de_stack[--stack_top] = '"';
! 	   for ( ; ent != 0;
! 		   ent = (ent >= FIRST ? tab_prefixof(ent) : 0) ) {
  	       stack_top = in_stack(tab_suffixof(ent), stack_top);
Index: fullname.c
Prereq: 1.11
*** .d/fullname.c	Thu Oct 30 16:11:51 1986
--- fullname.c	Thu Sep 24 18:13:40 1987
***************
*** 16,18
  #ifdef SCCSID
! static char	*SccsId = "@(#)fullname.c	1.11	9/16/86";
  #endif /* SCCSID */

--- 16,18 -----
  #ifdef SCCSID
! static char	*SccsId = "@(#)fullname.c	1.12	9/24/87";
  #endif /* SCCSID */
***************
*** 127,129
  	{
! 		if (*p == '-') {
  			bp = buf;

--- 127,129 -----
  	{
! 		if (*p == '-' && isspace(p[1])) {
  			bp = buf;
Index: getdate.y
Prereq: 2.15
*** .d/getdate.y	Wed Dec 17 18:23:12 1986
--- getdate.y	Thu Sep 24 18:13:43 1987
***************
*** 5,7
  	/*	University of North Carolina at Chapel Hill	*/
! 	/*	@(#)getdate.y	2.15	12/16/86	*/
  

--- 5,7 -----
  	/*	University of North Carolina at Chapel Hill	*/
! 	/*	@(#)getdate.y	2.16	9/24/87	*/
  
***************
*** 7,8
  
  #include <sys/types.h>

--- 7,9 -----
  
+ #include "defs.h"
  #include <sys/types.h>
***************
*** 21,23
  
- #include "defs.h"
  #if defined(BSD4_2) || defined (BSD4_1C)

--- 22,23 -----
  
  #if defined(BSD4_2) || defined (BSD4_1C)
***************
*** 246,248
  			while (isalpha(c = *lptr++) || c=='.')
! 				*p++ = c;
  			*p = '\0';

--- 246,248 -----
  			while (isalpha(c = *lptr++) || c=='.')
! 				if (p < &idbuf[sizeof(idbuf)-1]) *p++ = c;
  			*p = '\0';
Index: iextern.c
Prereq: 2.17
*** .d/iextern.c	Thu Oct 30 16:10:46 1986
--- iextern.c	Thu Sep 24 18:15:30 1987
***************
*** 3,4
   */
  

--- 3,5 -----
   */
+ /*LINTLIBRARY*/
  
***************
*** 5,7
  #ifdef SCCSID
! static char	*SccsId = "@(#)iextern.c	2.17	9/19/86";
  #endif /* SCCSID */

--- 6,8 -----
  #ifdef SCCSID
! static char	*SccsId = "@(#)iextern.c	2.18	9/24/87";
  #endif /* SCCSID */
Index: install.sh
Prereq: 1.17
*** .d/install.sh	Wed Dec 17 18:23:20 1986
--- install.sh	Thu Sep 24 18:13:45 1987
***************
*** 1,2
! : '@(#)install.sh	1.17	12/16/86'
  

--- 1,2 -----
! : '@(#)install.sh	1.18	9/24/87'
  
***************
*** 22,24
  			chgrp $NEWSGRP $LIBDIR/history.d
! 		fi;;
  	v7)	SYSNAME=`uuname -l`

--- 22,31 -----
  			chgrp $NEWSGRP $LIBDIR/history.d
! 		fi
! 		for i in 0 1 2 3 4 5 6 7 8 9
! 		do
! 			touch $LIBDIR/history.d/$i
! 			chown $NEWSUSR $LIBDIR/history.d/$i
! 			chgrp $NEWSGRP $LIBDIR/history.d/$i
! 		done
! 		;;
  	v7)	SYSNAME=`uuname -l`
***************
*** 63,66
  	cat > $LIBDIR/sys << EOF
! $SYSNAME:world,comp,sci,news,rec,soc,talk,misc,net,mod,na,usa,to::
! oopsvax:world,comp,sci,news,rec,soc,talk,misc,net,mod,na,usa,to.oopsvax::
  EOF

--- 70,73 -----
  	cat > $LIBDIR/sys << EOF
! $SYSNAME:world,comp,sci,news,rec,soc,talk,misc,na,usa,to::
! oopsvax:world,comp,sci,news,rec,soc,talk,misc,na,usa,to.oopsvax::
  EOF
***************
*** 112,259
  cat >$LIBDIR/aliases.new <<EOF
! net.audio	rec.audio
! net.auto	rec.autos
! net.auto.tech	rec.autos.tech
! net.aviation	rec.aviation
! net.bicycle	rec.bicycles
! net.rec.birds	rec.birds
! net.rec.boat	rec.boats
! net.cooks	rec.food.cooking
! net.wines	rec.food.drink
! net.veg		rec.food.veg
! net.games	rec.games.misc
! net.games.board	rec.games.board
! net.rec.bridge	rec.games.bridge
! net.games.chess	rec.games.chess
! net.games.emp	rec.games.empire
! net.games.frp	rec.games.frp
! net.games.go	rec.games.go
! net.games.hack	rec.games.hack
! net.games.pbm	rec.games.pbm
! net.games.rogue	rec.games.rogue
! net.games.trivia	rec.games.trivia
! net.games.video	rec.games.video
! net.garden	rec.gardens
! net.ham-radio	 rec.ham-radio
! net.ham-radio.packet rec.ham-radio.packet
! net.jokes	rec.humor
! net.jokes.d	rec.humor.d
! mod.mag		rec.mag
! net.mag		rec.mag
! net.books	rec.arts.books
! net.comics	rec.arts.comics
! net.tv.drwho	rec.arts.drwho
! mod.movies	rec.arts.movies
! net.movies	rec.arts.movies
! net.sf-lovers	rec.arts.sf-lovers
! net.startrek	rec.arts.startrek
! net.tv		rec.arts.tv
! net.tv.soaps	rec.arts.tv.soaps
! net.wobegon	rec.arts.wobegon
! net.rec		rec.misc
! net.cycle	rec.motorcycles
! net.music.classical	rec.music.classical
! net.music.folk	rec.music.folk
! net.music.gdead	rec.music.gdead
! net.music.makers	rec.music.makers
! net.music	rec.music.misc
! net.music.synth	rec.music.synth
! net.rec.nude	rec.nude
! net.pets	rec.pets
! net.rec.photo	rec.photo
! net.poems	rec.arts.poems
! net.puzzle	rec.puzzles
! net.railroad	rec.railroad
! net.rec.scuba	rec.scuba
! net.rec.ski	rec.skiing
! net.rec.skydive	rec.skydiving
! net.sport	rec.sport.misc
! net.sport.baseball	rec.sport.baseball
! net.sport.hoops	rec.sport.basketball
! net.sport.football	rec.sport.football
! net.sport.hockey	rec.sport.hockey
! net.travel	rec.travel
! net.video	rec.video
! net.rec.wood	rec.woodworking
! net.ai	comp.ai
! net.arch	comp.arch
! net.bugs.2bsd	comp.bugs.2bsd
! net.bugs.4bsd	comp.bugs.4bsd
! net.bugs.usg	comp.bugs.sys5
! net.bugs.uucp	comp.bugs.misc
! net.bugs.v7	comp.bugs.misc
! net.bugs	comp.bugs.misc
! net.cog-eng	comp.cog-eng
! net.cse		comp.edu
! net.database	comp.databases
! net.dcom	comp.dcom.modems
! net.decus	comp.org.decus
! net.emacs	comp.emacs
! net.eunice	comp.os.eunice
! net.graphics	comp.graphics
! net.info-terms	comp.terminals
! net.internat	comp.std.internat
! net.lan		comp.dcom.lans
! net.lang	comp.lang.misc
! net.lang.ada	comp.lang.ada
! net.lang.apl	comp.lang.apl
! net.lang.c	comp.lang.c
! net.lang.c++	comp.lang.c++
! net.lang.f77	comp.lang.fortran
! net.lang.forth	comp.lang.forth
! net.lang.lisp	comp.lang.lisp
! net.lang.mod2	comp.lang.modula2
! net.lang.pascal	comp.lang.pascal
! net.lang.prolog	comp.lang.prolog
! net.lang.st80	comp.lang.smalltalk
! net.lsi		comp.lsi
! net.mail	comp.mail.uucp
! net.mail.headers	comp.mail.headers
! net.micro	comp.sys.misc
! net.micro.6809	comp.sys.m6809
! net.micro.68k	comp.sys.m68k
! net.micro.apple	comp.sys.apple
! net.micro.amiga	comp.sys.amiga
! net.micro.atari16	comp.sys.atari.st
! net.micro.atari8	comp.sys.atari.8bit
! net.micro.att	comp.sys.att
! net.micro.cbm	comp.sys.cbm
! net.micro.cpm	comp.os.cpm
! net.micro.hp	comp.sys.hp
! net.micro.mac	comp.sys.mac
! net.micro.ns32k	comp.sys.nsc.32k
! net.micro.pc	comp.sys.ibm.pc
! net.micro.ti	comp.sys.ti
! net.micro.trs-80	comp.sys.tandy
! net.news	news.misc
! net.news.adm	news.admin
! net.news.b	news.software.b
! net.news.config	news.config
! net.news.group	news.groups
! net.news.newsite	news.newsites
! net.news.notes	news.software.notes
! net.news.sa	news.sysadmin
! net.news.stargate	news.stargate
! net.periphs	comp.periphs
! net.sources.d	comp.sources.d
! net.text	comp.text
! net.unix	comp.unix.questions
! net.unix-wizards	comp.unix.wizards
! net.usenix	comp.org.usenix
! net.wanted.sources	comp.sources.wanted
! net.chess		rec.games.chess
! net.trivia		rec.games.trivia
! net.rec.radio		rec.ham-radio
! net.term		comp.terminals
! net.joke		rec.humor
! net.vlsi		comp.lsi
! net.micro.16k		comp.sys.nsc.32k
! net.music.gdea		rec.music.gdead
! net.notes		news.software.notes
! net.periph		comp.periphs
! net.puzzles		rec.puzzles
! net.unix.wizards	comp.unix.wizards
! net.sources.wanted	comp.sources.wanted
! net.consumers		misc.consumers
! net.consumers.house	misc.consumers.house
! net.house		misc.consumers.house
  na.forsale		misc.forsale

--- 119,123 -----
  cat >$LIBDIR/aliases.new <<EOF
! comp.os.fidonet		comp.org.fidonet
! net.sources	comp.sources.misc
! misc.jobs		misc.jobs.misc
  na.forsale		misc.forsale
***************
*** 259,317
  na.forsale		misc.forsale
! net.forsale		misc.forsale
! net.politics.terror	misc.headlines
! net.invest		misc.invest
! net.jobs		misc.jobs
! net.kids		misc.kids
! mod.legal		misc.legal
! net.legal		misc.legal
! net.followup		misc.misc
! net.general		misc.misc
! net.misc		misc.misc
! net.suicide		misc.misc
! net.taxes		misc.taxes
! mod.test		misc.test
! net.test		misc.test
! net.wanted		misc.wanted
! net.announce		mod.announce
! net.announce.newusers	mod.announce.newusers
! mod.map.uucp		mod.map
! net.religion.christian	mod.religion.christian
! net.religion.xian	mod.religion.christian
! net.astro		sci.astro
! net.astro.expert	sci.astro
! net.bio			sci.bio
! net.crypt		sci.crypt
! net.analog		sci.electronics
! net.nlang		sci.lang
! net.math		sci.math
! net.stat		sci.math.stat
! net.math.stat		sci.math.stat
! net.math.symbolic	sci.math.symbolic
! net.med			sci.med
! net.sci			sci.misc
! net.physics		sci.physics
! net.research		sci.research
! net.space		sci.space
! net.columbia		sci.space.shuttle
! net.challenger		sci.space.shuttle
! net.college		soc.college
! net.nlang.africa	soc.culture.african
! net.nlang.celts		soc.culture.celtic
! net.nlang.greek		soc.culture.greek
! net.nlang.india		soc.culture.indian
! net.religion.jewish	soc.culture.jewish
! net.social		soc.misc
! mod.motss		soc.motss
! net.motss		soc.motss
! net.net-people		soc.net-people
! net.roots		soc.roots
! net.singles		soc.singles
! net.women		soc.women
! net.abortion		talk.abortion
! net.bizarre		talk.bizarre
! net.origins		talk.origins
! net.philosophy		talk.philosophy.misc
! net.politics		talk.politics.misc
! net.politics.theory	talk.politics.theory
! net.religion		talk.religion.misc
  talk.religion		talk.religion.misc

--- 123,126 -----
  na.forsale		misc.forsale
! rec.skydive		rec.skydiving
! talk.philosophy.tech		sci.philosophy.tech 
  talk.religion		talk.religion.misc
***************
*** 317,319
  talk.religion		talk.religion.misc
- net.rumor		talk.rumors
  talk.rumor		talk.rumors

--- 126,127 -----
  talk.religion		talk.religion.misc
  talk.rumor		talk.rumors
***************
*** 319,325
  talk.rumor		talk.rumors
- rec.skydive		rec.skydiving
- comp.sources.games	net.sources.games
- comp.sources.bugs	net.sources.bugs
- comp.sources.unix	net.sources
- comp.sources.mac	net.sources.mac
  EOF

--- 127,128 -----
  talk.rumor		talk.rumors
  EOF
Index: installit
*** .d/installit	Thu Sep 24 17:18:55 1987
--- installit	Thu Sep 24 18:31:05 1987
***************
*** 0

--- 1,83 -----
+ #! /bin/sh
+ #
+ #	'@(#)installit	2.3	9/24/87'
+ #	From install.sh	4.8	(Berkeley)	3/6/86
+ #	on the 4.3 BSD distribution (with permission)
+ #
+ PATH=/bin:/etc:/usr/bin:/usr/ucb
+ export BATH
+ cmd=""
+ stripbefore=""
+ stripafter=""
+ chmod="chmod 755"
+ chown="#"
+ chgrp="#"
+ while true ; do
+ 	case $1 in
+ 		-s )	if test $cmd 
+ 			then	stripafter="strip"
+ 			else	stripbefore="strip"
+ 			fi
+ 			shift
+ 			;;
+ 		-c )	if test $cmd 
+ 			then	echo "install: multiple specifications of -c"
+ 				exit 1
+ 			fi
+ 			cmd="cp"
+ 			stripafter=$stripbefore
+ 			stripbefore=""
+ 			shift
+ 			;;
+ 		-m )	chmod="chmod $2"
+ 			shift
+ 			shift
+ 			;;
+ 		-o )	chown="chown $2"
+ 			shift
+ 			shift
+ 			;;
+ 		-g )	chgrp="chgrp $2"
+ 			shift
+ 			shift
+ 			;;
+ 		* )	break
+ 			;;
+ 	esac
+ done
+ if test $cmd 
+ then true
+ else cmd="mv"
+ fi
+ 
+ if test ! ${2-""} 
+ then	echo "install: no destination specified"
+ 	exit 1
+ fi
+ if test ${3-""} 
+ then	echo "install: too many files specified -> $*"
+ 	exit 1
+ fi
+ if test $1 = $2 -o $2 = . 
+ then	echo "install: can't move $1 onto itself"
+ 	exit 1
+ fi
+ if test '!' -f $1 
+ then	echo "install: can't open $1"
+ 	exit 1
+ fi
+ if test -d $2 
+ then	file=$2/`basename $1`
+ else	file=$2
+ fi
+ /bin/rm -f $file
+ if test $stripbefore 
+ then	$stripbefore $1
+ fi
+ $cmd $1 $file
+ if test $stripafter 
+ then	$stripafter $file
+ fi
+ $chown $file
+ $chgrp $file
+ $chmod $file
Index: makeactive.sh
Prereq: 1.23
*** .d/makeactive.sh	Wed Dec 17 18:23:45 1986
--- makeactive.sh	Thu Sep 24 18:08:01 1987
***************
*** 2,4
  : "Usage: sh makeactive.sh LIBDIR SPOOLDIR NEWSUSR NEWSGRP"
! : '@(#)makeactive	1.23	12/16/86'
  LIBDIR=$1

--- 2,4 -----
  : "Usage: sh makeactive.sh LIBDIR SPOOLDIR NEWSUSR NEWSGRP"
! : '@(#)makeactive	1.24	9/24/87'
  LIBDIR=$1
***************
*** 7,9
  NEWSGRP=$4
! cat <<"E_O_F" > /tmp/$$groups
  general	Articles that should be read by everyone on your local system

--- 7,9 -----
  NEWSGRP=$4
! cat <<"E_O_F" | sort > /tmp/$$groups
  general	Articles that should be read by everyone on your local system
***************
*** 9,73
  general	Articles that should be read by everyone on your local system
- net.sources		For the posting of software packages & documentation.
- net.sources.bugs	For bug fixes and features discussion
- net.sources.games	Postings of recreational software
- net.sources.mac		Software for the Apple Macintosh
- mod.announce		General announcements of interest to all. (Moderated)
- mod.announce.newusers	Explanatory postings for new users. (Moderated)
- mod.ai			Discussions about Artificial Intelligence (Moderated)
- mod.amiga		Commodore Amiga micros -- info, uses, but no programs. (Moderated)
- mod.amiga.binaries	Encoded public domain programs in binary form. (Moderated)
- mod.amiga.sources	Public domain software in source code format. (Moderated)
- mod.compilers		Discussion about compiler construction, theory, etc. (Moderated)
- mod.computers		Discussion about various computers and related. (Moderated)
- mod.computers.68k		68000-based systems. (Moderated)
- mod.computers.apollo		Apollo computer systems. (Moderated)
- mod.computers.masscomp		The Masscomp line of computers. (Moderated)
- mod.computers.ibm-pc		The IBM PC, PC-XT, and PC-AT. (Moderated)
- mod.computers.laser-printers	Laser printers, hardware and software. (Moderated)
- mod.computers.pyramid		Pyramid 90x computers. (Moderated)
- mod.computers.ridge		Ridge 32 computers and ROS. (Moderated)
- mod.computers.sequent		Sequent systems, (esp. Balance 8000). (Moderated)
- mod.computers.sun		Sun "workstation" computers (Moderated)
- mod.computers.vax		DEC's VAX* line of computers & VMS. (Moderated)
- mod.computers.workstations	Various workstation-type computers. (Moderated)
- mod.conferences		Calls for papers and conference announcements. (Moderated)
- mod.comp-soc		Discussion on the impact of technology on society. (Moderated)
- mod.graphics		Graphics software, hardware, theory, etc. (Moderated)
- mod.human-nets		Computer aided communications digest. (Moderated)
- mod.mac			Apple Macintosh micros -- info, uses, but no programs. (Moderated)
- mod.mac.binaries	Encoded public domain programs in binary form. (Moderated)
- mod.mac.sources		Public domain software in source code format. (Moderated)
- mod.mag.otherrealms	Edited science fiction and fantasy "magazine". (Moderated)
- mod.map			Various maps, including UUCP maps (Moderated)
- mod.music		Reviews and discussion of things musical (Moderated)
- mod.music.gaffa		Progressive music discussions (e.g., Kate Bush). (Moderated)
- mod.newprod		Announcements of new products of interest to readers (Moderated)
- mod.newslists		Postings of news-related statistics and lists (Moderated)
- mod.os			Disussions about operating systems and related areas. (Moderated)
- mod.os.os9		Discussions about the os9 operating system. (Moderated)
- mod.os.unix		Discussion of UNIX* features and bugs. (Moderated)
- mod.philosophy		Discussion of philosphical issues and concepts. (Moderated)
- mod.philosophy.tech	Technical philosophy: math, science, logic, etc (Moderated)
- mod.politics		Discussions on political problems, systems, solutions. (Moderated)
- mod.politics.arms-d		Arms discussion digest. (Moderated)
- mod.protocols		Various forms and types of FTP protocol discussions. (Moderated)
- mod.protocols.appletalk		Applebus hardware & software discussion. (Moderated)
- mod.protocols.kermit		Information about the Kermit package. (Moderated)
- mod.protocols.tcp-ip		TCP and IP network protocols. (Moderated)
- mod.psi			Discussion of paranormal abilities and experiences. (Moderated)
- mod.rec			Discussions on pastimes (not currently active) (Moderated)
- mod.rec.guns		Discussions about firearms (Moderated)
- mod.recipes		A "distributed cookbook" of screened recipes. (Moderated)
- mod.religion		Top-level group with no moderator (as of yet). (Moderated)
- mod.religion.christian	Discussions on Christianity and related topics. (Moderated)
- mod.risks		Risks to the public from computers & users. (Moderated)
- mod.sources		postings of public-domain sources. (Moderated)
- mod.sources.doc		Archived public-domain documentation. (Moderated)
- mod.sources.games	Postings of public-domain game sources (Moderated)
- mod.std			Discussion about various standards (Moderated)
- mod.std.c		Discussion about C language standards (Moderated)
- mod.std.mumps		Discussion for the X11.1 committee on Mumps (Moderated)
- mod.std.unix		Discussion for the P1003 committee on UNIX (Moderated)
- mod.techreports		Announcements and lists of technical reports. (Moderated)
- mod.telecom		Telecommunications digest. (Moderated)
  comp.ai			Artificial intelligence discussions.

--- 9,10 -----
  general	Articles that should be read by everyone on your local system
  comp.ai			Artificial intelligence discussions.
***************
*** 73,74
  comp.ai			Artificial intelligence discussions.
  comp.arch		Computer architecture.

--- 10,12 -----
  comp.ai			Artificial intelligence discussions.
+ comp.ai.digest		Artificial Intelligence discussions. (Moderated)
  comp.arch		Computer architecture.
***************
*** 74,75
  comp.arch		Computer architecture.
  comp.bugs.2bsd		Reports of UNIX* version 2BSD related bugs.

--- 12,17 -----
  comp.arch		Computer architecture.
+ comp.binaries.amiga	Encoded public domain programs in binary. (Moderated)
+ comp.binaries.atari.st	Binary-only postings for the Atari ST. (Moderated)
+ comp.binaries.ibm.pc	Binary-only postings for IBM PC/MS-DOS. (Moderated)
+ comp.binaries.mac	Encoded Macintosh programs in binary. (Moderated)
  comp.bugs.2bsd		Reports of UNIX* version 2BSD related bugs.
***************
*** 76,78
  comp.bugs.4bsd		Reports of UNIX version 4BSD related bugs.
! comp.bugs.misc		General bug reports and fixes (includes V7 & uucp).
  comp.bugs.sys5		Reports of USG (System III, V, etc.) bugs.

--- 18,21 -----
  comp.bugs.4bsd		Reports of UNIX version 4BSD related bugs.
! comp.bugs.4bsd.ucb-fixes	Bug reports/fixes for BSD Unix. (Moderated)
! comp.bugs.misc		General UNIX bug reports and fixes (incl V7, uucp)
  comp.bugs.sys5		Reports of USG (System III, V, etc.) bugs.
***************
*** 79,80
  comp.cog-eng		Cognitive engineering.
  comp.databases		Database and data management issues and theory.

--- 22,24 -----
  comp.cog-eng		Cognitive engineering.
+ comp.compilers		Compiler construction, theory, etc. (Moderated)
  comp.databases		Database and data management issues and theory.
***************
*** 82,83
  comp.dcom.modems	Data communications hardware and software.
  comp.edu		Computer science education.

--- 26,30 -----
  comp.dcom.modems	Data communications hardware and software.
+ comp.dcom.telecom	Telecommunications digest. (Moderated)
+ comp.doc		Archived public-domain documentation. (Moderated)
+ comp.doc.techreports	Lists of technical reports. (Moderated)
  comp.edu		Computer science education.
***************
*** 84,86
  comp.emacs		EMACS editors of different flavors.
! comp.graphics		Computer graphics, art, animation, image processing,
  comp.lang.ada		Discussion about Ada*.

--- 31,35 -----
  comp.emacs		EMACS editors of different flavors.
! comp.graphics		Computer graphics, art, animation, image processing.
! comp.graphics.digest	Graphics software, hardware, theory, etc. (Moderated)
! comp.hypercube		Massively parallel systems: hardware & software. (Moderated)
  comp.lang.ada		Discussion about Ada*.
***************
*** 97,98
  comp.lang.smalltalk	Discussion about Smalltalk 80.
  comp.lsi		Large scale integrated circuits.

--- 46,48 -----
  comp.lang.smalltalk	Discussion about Smalltalk 80.
+ comp.laser-printers	Laser printers, hardware & software. (Moderated)
  comp.lsi		Large scale integrated circuits.
***************
*** 98,99
  comp.lsi		Large scale integrated circuits.
  comp.mail.headers	Gatewayed from the ARPA header-people list.

--- 48,50 -----
  comp.lsi		Large scale integrated circuits.
+ comp.mail.elm		Discussion and fixes for ELM mail system.
  comp.mail.headers	Gatewayed from the ARPA header-people list.
***************
*** 99,100
  comp.mail.headers	Gatewayed from the ARPA header-people list.
  comp.mail.misc		General discussions about computer mail.

--- 50,52 -----
  comp.mail.headers	Gatewayed from the ARPA header-people list.
+ comp.mail.maps		Various maps, including UUCP maps. (Moderated)
  comp.mail.misc		General discussions about computer mail.
***************
*** 102,103
  comp.misc		General topics about computers not covered elsewhere.
  comp.org.decus		DEC* Users' Society newsgroup.

--- 54,56 -----
  comp.misc		General topics about computers not covered elsewhere.
+ comp.newprod		Announcements of new products of interest. (Moderated)
  comp.org.decus		DEC* Users' Society newsgroup.
***************
*** 103,104
  comp.org.decus		DEC* Users' Society newsgroup.
  comp.org.usenix		USENIX Association events and announcements.

--- 56,58 -----
  comp.org.decus		DEC* Users' Society newsgroup.
+ comp.org.fidonet	FidoNews digest, official news of FidoNet Assoc. (Moderated)
  comp.org.usenix		USENIX Association events and announcements.
***************
*** 106,107
  comp.os.eunice		The SRI Eunice system.
  comp.os.misc		General OS-oriented discussion not carried elsewhere.

--- 60,62 -----
  comp.os.eunice		The SRI Eunice system.
+ comp.os.minix		Discussion of Tanenbaum's MINIX system.
  comp.os.misc		General OS-oriented discussion not carried elsewhere.
***************
*** 107,108
  comp.os.misc		General OS-oriented discussion not carried elsewhere.
  comp.periphs		Peripheral devices.

--- 62,66 -----
  comp.os.misc		General OS-oriented discussion not carried elsewhere.
+ comp.os.os9		Discussions about the os9 operating system. (Moderated)
+ comp.os.research	Operating systems and related areas. (Moderated)
+ comp.os.vms		DEC's VAX* line of computers & VMS.
  comp.periphs		Peripheral devices.
***************
*** 108,109
  comp.periphs		Peripheral devices.
  comp.sources.d		For any discussion of source postings.

--- 66,76 -----
  comp.periphs		Peripheral devices.
+ comp.protocols.appletalk	Applebus hardware & software.
+ comp.protocols.kermit	Info about the Kermit package. (Moderated)
+ comp.protocols.misc	Various forms and types of FTP protocol.
+ comp.protocols.tcp-ip	TCP and IP network protocols.
+ comp.risks		Risks to the public from computers & users. (Moderated)
+ comp.society		The impact of technology on society. (Moderated)
+ comp.sources.amiga	Source code-only postings for the Amiga. (Moderated)
+ comp.sources.atari.st	Source code-only postings for the Atari ST. (Moderated)
+ comp.sources.bugs	Bug reports, fixes, discussion for posted sources
  comp.sources.d		For any discussion of source postings.
***************
*** 109,110
  comp.sources.d		For any discussion of source postings.
  comp.sources.wanted	Requests for software and fixes.

--- 76,81 -----
  comp.sources.d		For any discussion of source postings.
+ comp.sources.games	Postings of recreational software. (Moderated)
+ comp.sources.mac	Software for the Apple Macintosh. (Moderated)
+ comp.sources.misc	Posting of software . (Moderated)
+ comp.sources.unix	Postings of public-domain sources. (Moderated)
  comp.sources.wanted	Requests for software and fixes.
***************
*** 110,113
  comp.sources.wanted	Requests for software and fixes.
! comp.std.internat	Discussion about international standards
! comp.sys.amiga		Discussion about the Amiga micro.
  comp.sys.apple		Discussion about Apple micros.

--- 81,89 -----
  comp.sources.wanted	Requests for software and fixes.
! comp.std.c		Discussion about C language standards. (Moderated)
! comp.std.internat	Discussion about international standards.
! comp.std.misc		Discussion about various standards. (Moderated)
! comp.std.mumps		Discussion for the X11.1 committee on Mumps. (Moderated)
! comp.std.unix		Discussion for the P1003 committee on UNIX. (Moderated)
! comp.sys.amiga		Commodore Amiga: info&uses, but no programs.
! comp.sys.apollo		Apollo computer systems.
  comp.sys.apple		Discussion about Apple micros.
***************
*** 115,117
  comp.sys.atari.st	Discussion about 16 bit Atari micros.
! comp.sys.att		Discussions about AT&T microcomputers 
  comp.sys.cbm		Discussion about Commodore micros.

--- 91,93 -----
  comp.sys.atari.st	Discussion about 16 bit Atari micros.
! comp.sys.att		Discussions about AT&T microcomputers.
  comp.sys.cbm		Discussion about Commodore micros.
***************
*** 118,120
  comp.sys.dec		Discussions about DEC computer systems.
! comp.sys.hp		Discussion about Hewlett/Packard's.
  comp.sys.ibm.pc		Discussion about IBM personal computers.

--- 94,96 -----
  comp.sys.dec		Discussions about DEC computer systems.
! comp.sys.hp		Discussion about Hewlett-Packard equipment.
  comp.sys.ibm.pc		Discussion about IBM personal computers.
***************
*** 120,121
  comp.sys.ibm.pc		Discussion about IBM personal computers.
  comp.sys.intel		Disucussions about Intel systems and parts.

--- 96,98 -----
  comp.sys.ibm.pc		Discussion about IBM personal computers.
+ comp.sys.ibm.pc.digest	The IBM PC, PC-XT, and PC-AT. (Moderated)
  comp.sys.intel		Disucussions about Intel systems and parts.
***************
*** 123,124
  comp.sys.m68k		Discussion about 68k's.
  comp.sys.mac		Discussions about the Apple Macintosh & Lisa.

--- 100,102 -----
  comp.sys.m68k		Discussion about 68k's.
+ comp.sys.m68k.pc	Discussion about 68k-based PCs. (Moderated)
  comp.sys.mac		Discussions about the Apple Macintosh & Lisa.
***************
*** 124,127
  comp.sys.mac		Discussions about the Apple Macintosh & Lisa.
! comp.sys.misc		Micro computers of all kinds.
! comp.sys.nsc.32k	National Semiconductor 32000 series chips
  comp.sys.tandy		Discussion about TRS-80's.

--- 102,111 -----
  comp.sys.mac		Discussions about the Apple Macintosh & Lisa.
! comp.sys.mac.digest	Apple Macintosh: info&uses, but no programs. (Moderated)
! comp.sys.masscomp	The Masscomp line of computers. (Moderated)
! comp.sys.misc		Discussion about computers of all kinds.
! comp.sys.nsc.32k	National Semiconductor 32000 series chips.
! comp.sys.pyramid	Pyramid 90x computers.
! comp.sys.ridge		Ridge 32 computers and ROS. 
! comp.sys.sequent	Sequent systems, (esp. Balance 8000). (Moderated)
! comp.sys.sun		Sun "workstation" computers. (Moderated)
  comp.sys.tandy		Discussion about TRS-80's.
***************
*** 128,129
  comp.sys.ti		Discussion about Texas Instruments.
  comp.terminals		All sorts of terminals.

--- 112,114 -----
  comp.sys.ti		Discussion about Texas Instruments.
+ comp.sys.workstations	Various workstation-type computers. (Moderated)
  comp.terminals		All sorts of terminals.
***************
*** 129,131
  comp.terminals		All sorts of terminals.
! comp.text		Text processing.
  comp.unix.questions	UNIX neophytes group.

--- 114,118 -----
  comp.terminals		All sorts of terminals.
! comp.text		Text processing issues and methods.
! comp.text.desktop	Technolgy & techniques of desktop publishing. (Moderated)
! comp.unix		Discussion of UNIX* features and bugs. (Moderated)
  comp.unix.questions	UNIX neophytes group.
***************
*** 133,134
  comp.unix.xenix		Discussion about the Xenix OS.
  misc.consumers		Consumer interests, product reviews, etc.

--- 120,124 -----
  comp.unix.xenix		Discussion about the Xenix OS.
+ comp.windows.misc	Various issues about windowing systems.
+ comp.windows.news	Sun Microsystems' NewS window system.
+ comp.windows.x		Discussion about the X Window System.
  misc.consumers		Consumer interests, product reviews, etc.
***************
*** 136,137
  misc.forsale		Short, tasteful postings about items for sale.
  misc.headlines		Current interest: drug testing, terrorism, etc.

--- 126,128 -----
  misc.forsale		Short, tasteful postings about items for sale.
+ misc.handicap		Items of interest for/about the handicapped. (Moderated)
  misc.headlines		Current interest: drug testing, terrorism, etc.
***************
*** 138,140
  misc.invest		Investments and the handling of money.
! misc.jobs		Job announcements, requests, etc.
  misc.kids		Children, their behavior and activities.

--- 129,133 -----
  misc.invest		Investments and the handling of money.
! misc.jobs.misc		Discussion about employment, workplaces, careers.
! misc.jobs.offered	Announcements of positions available.
! misc.jobs.resumes	Postings of resumes and "situation wanted" articles.
  misc.kids		Children, their behavior and activities.
***************
*** 142,143
  misc.misc		Various discussions not fitting in any other group.
  misc.taxes		Tax laws and advice.

--- 135,137 -----
  misc.misc		Various discussions not fitting in any other group.
+ misc.psi		Paranormal abilities and experiences. (Moderated)
  misc.taxes		Tax laws and advice.
***************
*** 146,147
  news.admin		Comments directed to news administrators.
  news.config		Postings of system down times and interruptions.

--- 140,144 -----
  news.admin		Comments directed to news administrators.
+ news.announce.conferences	Calls for papers and conference announcements. (Moderated)
+ news.announce.important	General announcements of interest to all. (Moderated)
+ news.announce.newusers	Explanatory postings for new users. (Moderated)
  news.config		Postings of system down times and interruptions.
***************
*** 147,150
  news.config		Postings of system down times and interruptions.
! news.groups		Discussions and lists of newsgroups
! news.lists		News-related statistics and lists (Moderated)
  news.misc		Discussions of USENET itself.

--- 144,147 -----
  news.config		Postings of system down times and interruptions.
! news.groups		Discussions and lists of newsgroups.
! news.lists		News-related statistics and lists. (Moderated)
  news.misc		Discussions of USENET itself.
***************
*** 158,160
  rec.arts.drwho		Discussion about Dr. Who.
! rec.arts.movies		Reviews and discussions of movies.
  rec.arts.poems		For the posting of poems.

--- 155,158 -----
  rec.arts.drwho		Discussion about Dr. Who.
! rec.arts.movies		Discussions of movies and movie making.
! rec.arts.movies.reviews	Reviews of movies. (Moderated)
  rec.arts.poems		For the posting of poems.
***************
*** 174,175
  rec.food.drink		Wines and spirits.
  rec.food.veg		Vegetarians.

--- 172,174 -----
  rec.food.drink		Wines and spirits.
+ rec.food.recipes	Recipes from the USENET Cookbook (troff & text). (Moderated)
  rec.food.veg		Vegetarians.
***************
*** 188,189
  rec.gardens		Gardening, methods and results.
  rec.ham-radio		Amateur Radio practices, contests, events, rules, etc.

--- 187,189 -----
  rec.gardens		Gardening, methods and results.
+ rec.guns		Discussions about firearms. (Moderated)
  rec.ham-radio		Amateur Radio practices, contests, events, rules, etc.
***************
*** 191,193
  rec.humor		Jokes and the like.  May be somewhat offensive.
! rec.humor.d		Discussions on the content of rec.humor articles
  rec.mag			Magazine summaries, tables of contents, etc.

--- 191,194 -----
  rec.humor		Jokes and the like.  May be somewhat offensive.
! rec.humor.d		Discussions on the content of rec.humor articles.
! rec.humor.spc		The Stupid People's Court! (Moderated)
  rec.mag			Magazine summaries, tables of contents, etc.
***************
*** 193,194
  rec.mag			Magazine summaries, tables of contents, etc.
  rec.misc		General topics about recreational/participant sports.

--- 194,196 -----
  rec.mag			Magazine summaries, tables of contents, etc.
+ rec.mag.otherrealms	Edited science fiction & fantasy "magazine". (Moderated)
  rec.misc		General topics about recreational/participant sports.
***************
*** 196,199
  rec.music.classical	Discussion about classical music.
! rec.music.folk		Folks discussing folk music of various sorts
! rec.music.gdead		A group for (Grateful) Dead-heads
  rec.music.makers	For performers and their discussions.

--- 198,202 -----
  rec.music.classical	Discussion about classical music.
! rec.music.folk		Folks discussing folk music of various sorts.
! rec.music.gaffa		Progressive music (e.g., Kate Bush). (Moderated)
! rec.music.gdead		A group for (Grateful) Dead-heads.
  rec.music.makers	For performers and their discussions.
***************
*** 200,202
  rec.music.misc		Music lovers' group.
! rec.music.synth		Synthesizers and computer music
  rec.nude		Hobbyists interested in naturist/nudist activities.

--- 203,205 -----
  rec.music.misc		Music lovers' group.
! rec.music.synth		Synthesizers and computer music.
  rec.nude		Hobbyists interested in naturist/nudist activities.
***************
*** 222,224
  sci.lang		Natural languages, communication, etc.
! sci.math		Mathematical discussions and pursuits
  sci.math.stat		Statistics discussion.

--- 225,227 -----
  sci.lang		Natural languages, communication, etc.
! sci.math		Mathematical discussions and pursuits.
  sci.math.stat		Statistics discussion.
***************
*** 226,227
  sci.med			Medicine and its related products and regulations.
  sci.misc		Short-lived discussions on subjects in the sciences.

--- 229,231 -----
  sci.med			Medicine and its related products and regulations.
+ sci.med.aids		AIDS -- treatment, consequences, etc. (Moderated)
  sci.misc		Short-lived discussions on subjects in the sciences.
***************
*** 227,228
  sci.misc		Short-lived discussions on subjects in the sciences.
  sci.physics		Physical laws, properties, etc.

--- 231,233 -----
  sci.misc		Short-lived discussions on subjects in the sciences.
+ sci.philosophy.tech	Technical philosophy: math, science, logic, etc. 
  sci.physics		Physical laws, properties, etc.
***************
*** 232,235
  soc.college		College, college activities, campus life, etc.
! soc.culture.african	Discussions about Africa & things African
! soc.culture.celtic	Group about Celtics (*not* basketball!)
  soc.culture.greek	Group about Greeks.

--- 237,240 -----
  soc.college		College, college activities, campus life, etc.
! soc.culture.african	Discussions about Africa & things African.
! soc.culture.celtic	Group about Celtics (*not* basketball!).
  soc.culture.greek	Group about Greeks.
***************
*** 235,239
  soc.culture.greek	Group about Greeks.
! soc.culture.indian	Group for discussion about India & things Indian
! soc.culture.jewish	Group for discussion about Jewish culture & religion
! soc.culture.misc	Group for discussion about other cultures
  soc.misc		Socially-oriented topics not in other groups.

--- 240,246 -----
  soc.culture.greek	Group about Greeks.
! soc.culture.indian	Group for discussion about India & things Indian.
! soc.culture.jewish	Group for discussion about Jewish culture & religion.
! soc.culture.misc	Group for discussion about other cultures.
! soc.human-nets		Computer aided communications digest. (Moderated)
! soc.men			Issues related to men, their problems & relationships.
  soc.misc		Socially-oriented topics not in other groups.
***************
*** 240,241
  soc.motss		Issues pertaining to homosexuality.
  soc.roots		Genealogical matters.

--- 247,252 -----
  soc.motss		Issues pertaining to homosexuality.
+ soc.net-people		Announcements, requests, etc. about people on the net.
+ soc.politics		Political problems, systems, solutions. (Moderated)
+ soc.politics.arms-d	Arms discussion digest. (Moderated)
+ soc.religion.christian	Christianity and related topics. (Moderated)
  soc.roots		Genealogical matters.
***************
*** 242,244
  soc.singles		Newsgroup for single people, their activities, etc.
- soc.net-people		Announcements, requests, etc. about people on the net.
  soc.women		Women's rights, discrimination, etc.

--- 253,254 -----
  soc.singles		Newsgroup for single people, their activities, etc.
  soc.women		Women's rights, discrimination, etc.
***************
*** 251,252
  talk.religion.misc	Religious, ethical, & moral implications.
  talk.rumors		For the posting of rumors.

--- 261,263 -----
  talk.religion.misc	Religious, ethical, & moral implications.
+ talk.religion.newage	Esoteric and minority religions & philosophies.
  talk.rumors		For the posting of rumors.
***************
*** 299,301
  fi
! sort /tmp/$$groups | $LIBDIR/checkgroups | tee /tmp/checkgroups.out
  echo the output of checkgroups has been copied into /tmp/checkgroups.out

--- 310,315 -----
  fi
! cat << EOF | cat - /tmp/$$groups | $LIBDIR/checkgroups | tee /tmp/checkgroups.out
! From: make update
! 
! EOF
  echo the output of checkgroups has been copied into /tmp/checkgroups.out
Index: recmail.c
Prereq: 1.15
*** .d/recmail.c	Thu Oct 30 16:08:05 1986
--- recmail.c	Thu Sep 24 18:17:42 1987
***************
*** 22,24
  #ifdef SCCSID
! static char	*SccsId = "@(#)recmail.c	1.15	10/23/86";
  #endif /* SCCSID */

--- 22,24 -----
  #ifdef SCCSID
! static char	*SccsId = "@(#)recmail.c	1.16	9/24/87";
  #endif /* SCCSID */
***************
*** 247,249
  	if ((logn = getlogin()) == NULL && (logn = getenv("USER")) == NULL) {
! 		if ((pwd = getpwent(getuid())) == NULL)
  			return;

--- 247,249 -----
  	if ((logn = getlogin()) == NULL && (logn = getenv("USER")) == NULL) {
! 		if ((pwd = getpwuid(getuid())) == NULL)
  			return;
Index: sendbatch.sh
Prereq: 1.10
*** .d/sendbatch.sh	Thu Oct 30 16:12:07 1986
--- sendbatch.sh	Thu Sep 24 18:13:47 1987
***************
*** 1,2
! : '@(#)sendbatch.sh	1.10	9/23/86'
  

--- 1,2 -----
! : '@(#)sendbatch.sh	1.11	9/24/87'
  
***************
*** 43,45
  	: make sure $? is zero
! 	while test $? -eq 0 -a \( -s BATCHDIR/$rmt -o -s BATCHDIR/$rmt.work -o  \( -n "$DOIHAVE" -a -s BATCHDIR/$rmt.ihave \) \)
  	do

--- 43,46 -----
  	: make sure $? is zero
! 	testit="-s BATCHDIR/$rmt -o "
! 	while test $? -eq 0 -a \( $testit -s /usr/spool/batch/$rmt.work -o  \( -n "$DOIHAVE" -a -s /usr/spool/batch/$rmt.ihave \) \)
  	do
***************
*** 60,61
  			fi
  		fi

--- 61,63 -----
  			fi
+ 			testit=
  		fi
Index: sendnews.c
Prereq: 2.12
*** .d/sendnews.c	Tue Mar 24 13:51:57 1987
--- sendnews.c	Thu Sep 24 18:13:47 1987
***************
*** 5,7
  #ifdef SCCSID
! static char	*SccsId = "@(#)sendnews.c	2.12	3/21/87";
  #endif /* SCCSID */

--- 5,7 -----
  #ifdef SCCSID
! static char	*SccsId = "@(#)sendnews.c	2.13	9/24/87";
  #endif /* SCCSID */
***************
*** 47,48
  #else /* !SENDMAIL */
  	(void) sprintf(buffer, "/bin/mail %s", *argv);

--- 47,51 -----
  #else /* !SENDMAIL */
+ #ifdef M_XENIX
+ 	(void) sprintf(buffer, "/usr/bin/mail %s", *argv);
+ #else /* XENIX is not quite Unix.... */
  	(void) sprintf(buffer, "/bin/mail %s", *argv);
***************
*** 48,49
  	(void) sprintf(buffer, "/bin/mail %s", *argv);
  #endif /* !SENDMAIL */

--- 51,53 -----
  	(void) sprintf(buffer, "/bin/mail %s", *argv);
+ #endif /* !M_XENIX */
  #endif /* !SENDMAIL */
Index: uname.c
Prereq: 2.15
*** .d/uname.c	Tue Mar 24 13:51:58 1987
--- uname.c	Thu Sep 24 18:13:48 1987
***************
*** 23,25
  #ifdef SCCSID
! static char	*SccsId = "@(#)uname.c	2.15	3/21/87";
  #endif /* SCCSID */

--- 23,25 -----
  #ifdef SCCSID
! static char	*SccsId = "@(#)uname.c	2.16	9/24/87";
  #endif /* SCCSID */
***************
*** 25,26
  #endif /* SCCSID */
  

--- 25,30 -----
  #endif /* SCCSID */
+ 
+ #ifdef BSD2_10
+ #include <shortnames.h>
+ #endif /* BSD2_10 */
  
Index: virtterm.c
Prereq: 1.13
*** .d/virtterm.c	Wed Dec 17 18:23:32 1986
--- virtterm.c	Thu Sep 24 18:17:43 1987
***************
*** 7,9
  #ifdef SCCSID
! static char	*SccsId = "@(#)virtterm.c	1.13	12/16/86";
  #endif /* SCCSID */

--- 7,9 -----
  #ifdef SCCSID
! static char	*SccsId = "@(#)virtterm.c	1.14	9/24/87";
  #endif /* SCCSID */
***************
*** 813,814
  int tputs_len;
  countit(c) { tputs_len++; }

--- 813,815 -----
  int tputs_len;
+ /*ARGSUSED*/
  countit(c) { tputs_len++; }

Index: patchlevel.h
Prereq: 8
*** .d/patchlevel.h	Fri Apr 10 23:33:50 1987
--- patchlevel.h	Thu Sep 24 18:13:46 1987
***************
*** 1,2
! #define	PATCHLEVEL	8
  

--- 1,2 -----
! #define	PATCHLEVEL	9
  
***************
*** 2,3
  
! #define NEWS_VERSION   "B 2.11 4/10/87"

--- 2,3 -----
  
! #define NEWS_VERSION   "B 2.11 9/24/87"


