Newsgroups: comp.sources.unix
From: tschudin@cui.unige.ch (Christian Tschudin)
Subject: v28i061: m0 - a messenger execution environment, Part11/12
References: <1.770917478.19277@gw.home.vix.com>
Sender: unix-sources-moderator@gw.home.vix.com
Approved: vixie@gw.home.vix.com

Submitted-By: tschudin@cui.unige.ch (Christian Tschudin)
Posting-Number: Volume 28, Issue 61
Archive-Name: m0/part11

#! /bin/sh
# This is a shell archive.  Remove anything before this line, then unpack
# it by saving it into a file and typing "sh file".  To overwrite existing
# files, type "sh file -c".  You can also feed this as standard input via
# unshar, or by typing "sh <file", e.g..  If this archive is complete, you
# will see the following message at the end:
#		"End of archive 11 (of 12)."
# Contents:  M0-2.ps
# Wrapped by tschudin@cuisunf on Mon Jun  6 13:26:04 1994
PATH=/bin:/usr/bin:/usr/ucb ; export PATH
if test -f 'M0-2.ps' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'M0-2.ps'\"
else
echo shar: Extracting \"'M0-2.ps'\" \(45187 characters\)
sed "s/^X//" >'M0-2.ps' <<'END_OF_FILE'
X%!PS-Adobe-2.0
X%%Creator: dvipsk 5.516a Copyright 1986, 1993 Radical Eye Software
X%%Title: m0.dvi
X%%Pages: 6 0
X%%PageOrder: Ascend
X%%BoundingBox: 0 0 596 842
X%%DocumentFonts: Times-Roman Courier Times-Italic Times-Bold
X%%EndComments
X%%BeginProcSet: tex.pro
X/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
X/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
Xmul N /fixcurrentmatrix{statusdict /product known{statusdict /product
Xget(LaserJet 4)eq{/version where{/version get(2011.110)eq{matrix
Xcurrentmatrix dup dup 0 get 32768 mul round 32768 div 0 exch put dup dup
X3 get 32768 mul round 32768 div 3 exch put systemdict /setmatrix get
Xexec}if}if}if}if}B /setmatrix{systemdict /setmatrix get exec
Xfixcurrentmatrix}B /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1
X}{-1 1}ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg
Xscale isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution
X-72 div hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1
Xadd mul TR matrix currentmatrix dup dup 4 get round 4 exch put dup dup 5
Xget round 5 exch put setmatrix}N /@landscape{/isls true N}B /@manualfeed
X{statusdict /manualfeed true put}B /@copies{/#copies X}B /FMat[1 0 0 -1
X0 0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{/nn 8 dict N nn
Xbegin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N string /base X
Xarray /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N end dup{/foo
Xsetfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{/sf 1 N /fntrx
XFMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]N df-tail}B /E{
Xpop nn dup definefont setfont}B /ch-width{ch-data dup length 5 sub get}
XB /ch-height{ch-data dup length 4 sub get}B /ch-xoff{128 ch-data dup
Xlength 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub get 127 sub}B
X/ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data dup type
X/stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N /rc 0 N /gp
X0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup /base get 2
Xindex get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx 0 ch-xoff
Xch-yoff ch-height sub ch-xoff ch-width add ch-yoff setcachedevice
Xch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff .1 add]{
Xch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}if nn
X/base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup length 1
Xsub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{cc 1 add D
X}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin 0 0
Xmoveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul add
X.99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore showpage
Xuserdict /eop-hook known{eop-hook}if}N /@start{userdict /start-hook
Xknown{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
X/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
X65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
X0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
X{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
Xgetinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
Xifelse}{false}ifelse end{{gsave TR -.1 -.1 TR 1 1 scale rulex ruley
Xfalse RMat{BDot}imagemask grestore}}{{gsave TR -.1 -.1 TR rulex ruley
Xscale 1 1 false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave
Xtransform round exch round exch itransform moveto rulex 0 rlineto 0
Xruley neg rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta
X0 N /tail{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}
XB /c{-4 M}B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{
X3 M}B /k{4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p
X-1 w}B /q{p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{
X3 2 roll p a}B /bos{/SS save N}B /eos{SS restore}B end
X%%EndProcSet
X%%BeginProcSet: texps.pro
XTeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2
Xindex /UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
Xexec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
Xexch def dict begin Encoding{exch dup type /integertype ne{pop pop 1 sub
Xdup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
Xifelse}forall Metrics /Metrics currentdict end def[2 index currentdict
Xend definefont 3 -1 roll makefont /setfont load]cvx def}def
X/ObliqueSlant{dup sin S cos div neg}B /SlantFont{4 index mul add}def
X/ExtendFont{3 -1 roll mul exch}def /ReEncodeFont{/Encoding exch def}def
Xend
X%%EndProcSet
X%%BeginProcSet: special.pro
XTeXDict begin /SDict 200 dict N SDict begin /@SpecialDefaults{/hs 612 N
X/vs 792 N /ho 0 N /vo 0 N /hsc 1 N /vsc 1 N /ang 0 N /CLIP 0 N /rwiSeen
Xfalse N /rhiSeen false N /letter{}N /note{}N /a4{}N /legal{}N}B
X/@scaleunit 100 N /@hscale{@scaleunit div /hsc X}B /@vscale{@scaleunit
Xdiv /vsc X}B /@hsize{/hs X /CLIP 1 N}B /@vsize{/vs X /CLIP 1 N}B /@clip{
X/CLIP 2 N}B /@hoffset{/ho X}B /@voffset{/vo X}B /@angle{/ang X}B /@rwi{
X10 div /rwi X /rwiSeen true N}B /@rhi{10 div /rhi X /rhiSeen true N}B
X/@llx{/llx X}B /@lly{/lly X}B /@urx{/urx X}B /@ury{/ury X}B /magscale
Xtrue def end /@MacSetUp{userdict /md known{userdict /md get type
X/dicttype eq{userdict begin md length 10 add md maxlength ge{/md md dup
Xlength 20 add dict copy def}if end md begin /letter{}N /note{}N /legal{}
XN /od{txpose 1 0 mtx defaultmatrix dtransform S atan/pa X newpath
Xclippath mark{transform{itransform moveto}}{transform{itransform lineto}
X}{6 -2 roll transform 6 -2 roll transform 6 -2 roll transform{
Xitransform 6 2 roll itransform 6 2 roll itransform 6 2 roll curveto}}{{
Xclosepath}}pathforall newpath counttomark array astore /gc xdf pop ct 39
X0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}if}N
X/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1 -1
Xscale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3 get
Xppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip yflip
Xnot and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub neg 0
XTR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{noflips{TR
Xpop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop 90 rotate 1
X-1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg
XTR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr 1 get neg
Xsub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr 2 get ppr
X0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4 -1 roll add
X2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S TR}if}N /cp
X{pop pop showpage pm restore}N end}if}if}N /normalscale{Resolution 72
Xdiv VResolution 72 div neg scale magscale{DVImag dup scale}if 0 setgray}
XN /psfts{S 65781.76 div N}N /startTexFig{/psf$SavedState save N userdict
Xmaxlength dict begin /magscale false def normalscale currentpoint TR
X/psf$ury psfts /psf$urx psfts /psf$lly psfts /psf$llx psfts /psf$y psfts
X/psf$x psfts currentpoint /psf$cy X /psf$cx X /psf$sx psf$x psf$urx
Xpsf$llx sub div N /psf$sy psf$y psf$ury psf$lly sub div N psf$sx psf$sy
Xscale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub TR
X/showpage{}N /erasepage{}N /copypage{}N /p 3 def @MacSetUp}N /doclip{
Xpsf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
Xroll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
Xmoveto}N /endTexFig{end psf$SavedState restore}N /@beginspecial{SDict
Xbegin /SpecialSave save N gsave normalscale currentpoint TR
X@SpecialDefaults count /ocount X /dcount countdictstack N}N /@setspecial
X{CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
Xclosepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
Xsub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
X}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
XCLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
Xlineto closepath clip}if /showpage{}N /erasepage{}N /copypage{}N newpath
X}N /@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{
Xend}repeat grestore SpecialSave restore end}N /@defspecial{SDict begin}
XN /@fedspecial{end}B /li{lineto}B /rl{rlineto}B /rc{rcurveto}B /np{
X/SaveX currentpoint /SaveY X N 1 setlinecap newpath}N /st{stroke SaveX
XSaveY moveto}N /fil{fill SaveX SaveY moveto}N /ellipse{/endangle X
X/startangle X /yrad X /xrad X /savematrix matrix currentmatrix N TR xrad
Xyrad scale 0 0 1 startangle endangle arc savematrix setmatrix}N end
X%%EndProcSet
XTeXDict begin 39158280 55380996 1000 300 300 (m0.dvi)
X@start /Fa 1 59 df<60F0F06004047D830B>58 D E /Fb 1 25
Xdf<0F8000801FE000803FF0008070780180E01C0380C00F07008007FE008003FC008000
XF80019097E8D1E>24 D E /Fc 134[22 1[33 22 25 14 19 19
X1[25 25 25 36 14 22 1[14 25 25 1[22 25 22 25 25 13[25
X1[36 30 36 1[41 6[30 1[36 33 1[30 65[{}30 50.000000 /Times-Italic
Xrf /Fd 22[20 107[20 1[20 1[20 20 20 20 20 20 20 20 20
X20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
X1[20 20 20 2[20 2[20 3[20 20 2[20 20 1[20 20 1[20 1[20
X20 4[20 1[20 1[20 20 2[20 1[20 1[20 20 20 20 20 20 1[20
X20 1[20 20 20 2[20 20 20 20 33[{}65 33.333332 /Courier
Xrf /Fe 3 102 df<07800C4010E031C0600060006000C000C0004020404021801E000B0D
X7E8C0F>99 D<007C000C0018001800180018003007B00C7010703060606060606060C0C0
XC0C8C0C841C862D03C700E147E9311>I<07800C401020304060407F8060004000C00040
X20604021801E000B0D7E8C10>I E /Ff 7 117 df<60F0F06004047C830C>58
XD<01F007080C0818043808300870307FC0E000E000E000E000E000E0046008601030600F
X800E127E9113>101 D<007180018B800307800607800E07000C07001C07001C0700380E
X00380E00380E00380E00381C00381C00381C00183C0008F8000738000038000038000070
X00607000F06000F0E000E180007E0000111A7F9114>103 D<0FC00001C00001C0000380
X000380000380000380000700000700000700000700000E3E000EC3000F03800E03801E03
X801C03801C03801C0380380700380700380700380E00700E20700E20701C20701C40E00C
X80600700131D7E9C18>I<1F800380038007000700070007000E000E000E000E001C001C
X001C001C0038003800380038007000700070007000E400E400E400E40064003800091D7E
X9C0C>108 D<381F004E61804681C04701C08F01C08E01C00E01C00E01C01C03801C0380
X1C03801C0700380710380710380E10380E2070064030038014127E9119>110
XD<00C001C001C001C00380038003800380FFF00700070007000E000E000E000E001C001C
X001C001C00382038203840384018800F000C1A80990F>116 D E
X/Fg 205[12 12 49[{}2 25.000000 /Times-Roman rf /Fh 78[21
X1[23 23 52[21 21 30 21 23 14 16 18 23 23 21 23 35 12
X23 1[12 23 21 1[18 23 18 23 21 9[42 2[28 23 30 3[30 39
X28 2[16 32 1[25 2[30 1[30 6[14 21 21 21 21 21 21 21 21
X21 21 1[10 14 3[14 14 40[{}53 41.666668 /Times-Bold rf
X/Fi 22[30 116[30 4[30 30 30 30 2[30 1[30 2[30 30 21[30
X28[30 1[30 46[{}13 50.000000 /Courier rf /Fj 204[15 15
X15 49[{}3 29.166668 /Times-Roman rf /Fk 5 104 df<FFFFFF80FFFFFF8019027D
X8A20>0 D<03C00FF01FF83FFC7FFE7FFEFFFFFFFFFFFFFFFF7FFE7FFE3FFC1FF80FF003
XC010107E9115>15 D<07C000201FE000203FF80020783C0060E01F00E0C00783C08003FF
X808000FF0080007C001B097E8E20>24 D<003C00E001C001800380038003800380038003
X800380038003800380038003800380030007001C00F0001C000700030003800380038003
X80038003800380038003800380038003800380018001C000E0003C0E297D9E15>102
XD<F0001C0007000300038003800380038003800380038003800380038003800380038001
X8001C000E0003C00E001C001800380038003800380038003800380038003800380038003
X800380030007001C00F0000E297D9E15>I E /Fl 22[35 155[35
X77[{}2 58.333336 /Courier rf /Fm 69[15 10[18 18 3[15
X48[17 17 24 17 17 9 13 11 17 17 17 17 26 9 1[9 9 17 17
X11 15 17 15 17 15 8[24 2[24 20 18 22 1[18 24 24 30 20
X2[11 24 1[18 20 24 22 22 24 6[9 17 17 1[17 17 2[17 17
X17 1[8 4[11 11 40[{}57 33.333332 /Times-Roman rf /Fn
X22[25 37[25 1[25 68[25 1[25 25 25 25 25 25 25 25 25 25
X25 25 25 25 25 25 1[25 25 25 25 25 25 25 25 25 3[25 25
X25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
X25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
X25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
X25 25 25 25 25 33[{}90 41.666668 /Courier rf /Fo 81[28
X52[25 25 36 25 28 17 19 22 1[28 25 28 41 14 2[14 28 25
X17 22 28 22 28 25 9[50 36 36 33 28 36 1[30 39 36 47 33
X2[19 1[39 30 33 36 36 1[36 7[25 25 25 25 25 25 25 25
X25 25 1[12 17 12 2[17 17 40[{}56 50.000000 /Times-Bold
Xrf /Fp 81[21 52[18 18 28 18 21 12 16 16 21 21 21 21 30
X12 18 12 12 21 21 12 18 21 18 21 21 13[21 25 1[25 30
X28 35 23 5[25 2[28 8[14 7[21 21 1[12 10 14 3[14 14 40[{}43
X41.666668 /Times-Italic rf /Fq 135[29 1[29 32 19 23 26
X1[32 29 32 48 16 2[16 32 29 19 26 32 26 1[29 12[39 1[42
X1[36 45 2[39 2[23 2[36 39 3[42 11[29 29 29 29 29 49[{}33
X58.333336 /Times-Bold rf /Fr 167[22 4[17 3[22 22 27 3[10
X4[22 68[{}7 29.999987 /Times-Roman rf /Fs 80[21 21 52[19
X19 27 19 19 10 15 12 19 19 19 19 29 10 19 1[10 19 19
X12 17 19 17 19 17 12 3[10 1[23 4[27 23 21 5[33 6[21 11[10
X10[10 9 12 9 2[12 12 12 4[15 34[{}43 37.500000 /Times-Roman
Xrf /Ft 139[12 15 17 14[17 21 19 31[27 65[{}7 37.500000
X/Times-Bold rf /Fu 22[22 37[22 69[22 22 22 1[22 22 22
X22 22 22 22 22 22 22 22 22 22 22 22 1[22 22 22 22 22
X22 22 22 22 22 22 1[22 22 22 22 22 22 22 22 22 22 22
X22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22
X22 22 22 22 22 22 22 1[22 22 22 22 22 22 22 22 22 22
X22 22 22 22 22 22 22 22 22 22 22 1[22 22 33[{}90 37.500000
X/Courier rf /Fv 60[14 14 14 6[18 8[21 1[23 23 3[18 47[18
X21 21 30 21 21 12 16 14 21 21 21 21 32 12 21 12 12 21
X21 14 18 21 18 21 18 14 2[14 1[14 1[30 1[39 30 30 25
X23 28 30 23 30 30 37 25 30 16 14 30 30 23 25 30 28 28
X30 5[12 12 21 21 21 21 21 21 21 21 21 21 12 10 14 10
X23 1[14 14 14 4[17 14 33[{}83 41.666668 /Times-Roman
Xrf /Fw 134[25 3[25 14 19 17 3[25 4[14 25 3[25 22 1[22
X12[30 6[44 6[28 2[33 9[25 4[25 25 1[25 2[12 1[12 44[{}21
X50.000000 /Times-Roman rf /Fx 134[17 1[25 17 19 10 15
X15 19 1[19 19 27 3[10 19 1[10 17 19 2[19 11[27 6[25 2[25
X1[12 5[25 10[19 1[19 12[12 12 12 39[{}27 37.500000 /Times-Italic
Xrf /Fy 22[42 155[42 77[{}2 70.833336 /Courier rf /Fz
X138[35 20 27 23 2[35 35 4[20 35 35 1[31 35 31 1[31 19[63
X43 2[23 7[51 65[{}17 70.833336 /Times-Roman rf end
X%%EndProlog
X%%BeginSetup
X%%Feature: *Resolution 300dpi
XTeXDict begin
X%%PaperSize: a4
X
X%%EndSetup
X%%Page: 5 1
X5 4 bop 112 31 a Fu(Header:)25 b(16)e(to)g(20)h(bytes)112
X122 y(byte)225 b(0)315 b(1)f(2)336 b(3)201 168 y(+-+-+-+-)q(+-+)q(-+)q
X(-+-)q(+-)q(+-)q(+-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q(+-)q(+-+)q
X(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q(+)201 213
Xy(|)90 b(hdr)24 b(and)g(code)g(checksum)137 b(|)91 b(version)h(|D|)46
Xb(reserved)71 b(|)201 259 y(+-+-+-+-)q(+-+)q(-+)q(-+-)q(+-)q(+-)q(+-+)q
X(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q(+-)q
X(+-+)q(-+)q(-+)q(-+-)q(+)201 305 y(|)337 b(64)23 b(bit)h(process)h
X(queue)g(identifier)385 b(|)201 350 y(|)1413 b(|)201
X396 y(+-+-+-+-)q(+-+)q(-+)q(-+-)q(+-)q(+-)q(+-+)q(-+)q(-+-)q(+-)q(+-+)q
X(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q
X(+)201 442 y(|)404 b(CODELEN)25 b(\(code)g(part)f(length\))429
Xb(|)201 487 y(+-+-+-+-)q(+-+)q(-+)q(-+-)q(+-)q(+-)q(+-+)q(-+)q(-+-)q
X(+-)q(+-+)q(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q
X(-+)q(-+-)q(+)515 579 y(optional:)26 b(data)e(part)g(info)g(if)g
X(D-flag)h(set)201 624 y(|)404 b(DATALEN)25 b(\(data)g(part)f(length\))
X429 b(|)201 670 y(+-+-+-+-)q(+-+)q(-+)q(-+-)q(+-)q(+-)q(+-+)q(-+)q(-+-)
Xq(+-)q(+-+)q(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q
X(-+)q(-+-)q(+)112 761 y(Code)24 b(part)46 b(:)f(CODELEN)26
Xb(bytes)224 807 y(offset:)47 b(16)24 b(+)e(D)h(*)g(8)g(bytes)201
X853 y(+-+-+-+-)q(+-+)q(-+)q(-+-)q(+-)q(+-)q(+-+)q(-+)q(-+-)q(+-)q(+-+)q
X(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q
X(+)201 898 y(|)113 b(byte)24 b(0)90 b(|)336 b(|)h(|)g(|)201
X944 y(+-+-+-+-)q(+-+)q(-+)q(-+-)q(+-)q(+-)q(+-+)q(-+)q(-+-)q(+-)q(+-+)q
X(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q
X(+)201 990 y(....)201 1035 y(+-+-+-+-)q(+-+)q(-+)q(-+-)q(+-)q(+-)q(+-+)
Xq(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)201
X1081 y(|)g(|)f(|)23 b(byte)h(CODELEN-)q(1|)201 1127 y(+-+-+-+-)q(+-+)q
X(-+)q(-+-)q(+-)q(+-)q(+-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q(+-)q
X(+-+)q(-+)q(-+)112 1218 y(Optional)h(data)f(part:)47
Xb(DATALEN)26 b(*)c(bytes)224 1264 y(offset)159 b(:)45
Xb(20)24 b(+)e(4)h(*)g(\(\(CODELEN)q(+3)q(\)/4)q(\))j(bytes)1277
X1309 y(+-+-+-+-+)q(-+)q(-+)q(-+-)q(+)313 1355 y(code)e(part)g(padded)h
X(to)f(a)e(multiple)k(of)d(32)h(bits)46 b(|)90 b(padding)j(|)201
X1401 y(+-+-+-+-)q(+-+)q(-+)q(-+-)q(+-)q(+-)q(+-+)q(-+)q(-+-)q(+-)q(+-+)
Xq(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q
X(+)201 1446 y(|)113 b(byte)24 b(0)90 b(|)336 b(|)h(|)g(|)201
X1492 y(+-+-+-+-)q(+-+)q(-+)q(-+-)q(+-)q(+-)q(+-+)q(-+)q(-+-)q(+-)q(+-+)
Xq(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q(+-)q(+-+)q(-+)q(-+)q(-+-)q
X(+)201 1538 y(....)201 1583 y(+-+-+-+-)q(+-+)q(-+)q(-+-)q(+)201
X1629 y(|)23 b(byte)h(DATALEN-1)q(|)201 1674 y(+-+-+-+-)q(+-+)q(-+)q
X(-+-)q(+)375 1807 y Fv(Figure)10 b(2:)k(The)d(data)f(layout)g
X(\(external)g(format\))f(of)h(a)h Fn(M\351)p Fv(-messenger)n(.)174
X1941 y(All)h(header)i(\256elds)g(\()p Fm(CRC)p Fv(,)h(process)f(queue)f
X(key)m(,)i(code)f(and)g(data)f(length\))f(are)j(coded)e(as)h(big)f
X(endian)112 1991 y(values)e(\(for)g(instance:)16 b(the)11
Xb(16th)g(header)h(byte)e(is)i(the)f(least)g(signi\256cant)g(byte)f(of)h
X(the)h(code)f(length)g(\256eld\).)112 2040 y(The)e(sequence)i(of)d
X(code)i(bytes)f(that)f(contains)h(a)g Fn(M\351)g Fv(program)g(starts)g
X(immediately)g(after)g(the)g(header)n(.)15 b(The)112
X2090 y(optional)9 b(data)j(part)f(may)g(be)h(preceded)g(by)f(1)g(to)g
X(3)g(padding)g(bytes)g(in)f(order)h(to)g(let)g(the)g(data)h(part)f
X(start)g(at)112 2140 y(a)g(multiple)e(of)h(4)h(bytes,)g(but)f
X(otherwise)g(immediately)h(follows)e(the)i(code)g(\256eld.)16
Xb(The)c(internal)d(format)i(of)112 2190 y(the)f(data)g(\256eld)g(is)g
X(completely)g(unspeci\256ed.)174 2240 y(Messenger)g(frames)g(of)f(the)g
X(described)h(format)f(have)h(been)f(put)g(into)f Fm(UDP)i
XFv(datagrams)g(and)f Fm(ETHERNET)112 2290 y Fv(frames.)16
Xb(For)10 b Fm(ETHERNET)p Fv(,)i(a)e(protocol)f(type)g(of)h
XFn(0x4d30)f Fv(was)i(chosen)g(and)f(the)f(same)j(value)e(is)g
X(currently)112 2339 y(used)g(as)h(default)f(port)f(number)h(for)g
XFm(UDP)h Fv(sockets:)j(this)c(number)g(is)g(the)g Fm(ASCII)h
XFv(representation)f(of)g(\252)p Fn(M\351)p Fv(\272.)112
X2458 y Fo(2.3)50 b(Syntactic)11 b(Conventions)112 2536
Xy Fv(The)f(de\256nition)f(of)g(the)h Fn(M\351)g Fv(language)g(covers)h
X(the)f(syntax)f(and)h(semantics)h(of)f(the)g(code)g(\256eld)g(of)g
XFn(M\351)g Fv(mes-)112 2585 y(sengers.)26 b(Special)15
Xb(syntactic)e(conventions)g(have)i(been)f(adopted)g(in)f(order)h(to)f
X(speed)i(up)e(the)h(scanning)112 2635 y(of)d Fn(M\351)i
XFv(code)f(and)h(to)e(yield)h(very)g(compact)h(programs.)21
Xb(The)13 b(present)f(description)f(\256rst)g(lists)h(the)g(simple)889
X2790 y(5)p eop
X%%Page: 6 2
X6 5 bop 112 7 a Fv(and)10 b(then)g(the)g(more)g(complex)g(syntactic)g
X(conventions.)k(It)c(should)f(be)h(noted)g(that)f Fn(M\351)h
XFv(is)g(a)h(byte-oriented)112 57 y(language)f(based)h(on)f(and)g(build)
Xf(around)g(the)h Fm(ASCII)h Fv(character)h(set.)112 167
Xy Fh(2.3.1)41 b(White)10 b(Spaces)h(and)f(Comments)112
X245 y Fv(There)j(are)f(\256ve)h(characters)g(de\256ned)g(to)e(be)i
X(white)e(spaces)j(i.e.,)g(characters)f(which)f(separate)h
X(identi\256ers,)112 295 y(numbers)7 b(etc.)14 b(These)9
Xb(characters)f(are)g(the)f(space)i(and)e(tabulation)e(character)j(\()p
XFn(0x20)p Fv(,)g Fn(0x09)p Fv(\),)g(the)f(carriage)112
X345 y(return)i(and)h(newline)g(character)i(\()p Fn(0x0a)p
XFv(,)e Fn(0x0d)p Fv(\),)g(and)g(\256nally)g(the)g(end-of-text)f
X(character)i(\()p Fn(0x1a)p Fv(\).)174 394 y Fn(M\351)i
XFv(has)i(no)e(notion)f(of)h Fp(comments)p Fv(.)26 b(Once)14
Xb(that)g(messengers)h(circulate)e(inside)g(a)i(set)f(of)f(execution)112
X444 y(platforms)f(they)h(simply)g(do)g(not)g(need)h(comments.)26
Xb(Thus,)14 b(comments)h(are)f(outside)f(the)g(scope)h(of)f
XFn(M\351)p Fv(.)112 494 y(However)n(,)d(there)e(are)i(preprocessors)f
X(like)f Fn(m0strip)h Fv(\(see)g(page)h(29\))e(which)g(can)i(handle)f
X(comments:)14 b(by)112 544 y(convention)7 b(the)i(number)o(-sign)f(\()p
XFn(#)p Fv(\),)h(which)g(must)g Fp(not)f Fv(be)h(immediately)g(followed)
Xf(by)g(a)i(digit,)e(introduces)112 594 y(a)i(comment)h(that)f(extends)g
X(to)g(the)g(end)g(of)g(the)g(line.)112 704 y Fh(2.3.2)41
Xb(Lower)n(\261Case)11 b(Identi\256ers)112 782 y Fv(Identi\256ers)f
X(with)g(more)i(than)f(one)g(character)h Fp(must)f Fv(be)h(formed)f
X(with)f(lower)o(-case)i(and)g(underscore)f(char)o(-)112
X831 y(acters.)16 b(There)11 b(is)f(no)g(limit)f(on)h(the)g(length)f(of)
Xh(an)g(identi\256er)n(.)k(Examples)d(of)f(valid)g(identi\256ers)f(are:)
X197 881 y Fn(a)197 931 y(abc)p 199 981 13 2 v 212 981
Xa(abc)197 1031 y(a)p 224 1031 V 15 w(very)p 339 1031
XV 14 w(long)p 453 1031 V 15 w(identifier)174 1080 y Fv(Numbers)g(as)g
X(well)g(as)g(upper)o(-case)h(and)f(punctation)e(characters)k(cannot)d
X(be)h(part)g(of)g(a)g(multi-character)112 1130 y(identi\256er)n(.)k
X(The)e(following)d(cases)k(are)f(all)f(scanned)h(as)g(3)f(\(!\))15
Xb(distinct)8 b(identi\256ers:)197 1180 y Fn(a2b)197 1230
Xy(AbC)197 1280 y(this)p 299 1280 V 14 w(is.not)p 463
X1280 V 15 w(the.same)p 678 1280 V 14 w(identifier)112
X1390 y Fh(2.3.3)41 b(Numbers)112 1468 y Fv(The)9 b Fn(M\351)g
XFv(scanner)h(recognizes)g(two)e(number)h(formats.)15
Xb(Decimal)10 b(numbers)f(of)g(arbitrary)f(length)g(are)i(made)112
X1518 y(of)d(the)h(digits)e Fn(0)p Ff(:)h(:)g(:)f Fn(9)i
XFv(only)m(.)13 b(Note)8 b(that)g(there)g(is)f(no)h(sign)f(character)j
X(\(use)e(the)g Fn(N)g Fv(\(negate\))g(operator)f(instead\))112
X1567 y(and)j(no)g(over\257ow)g(checking.)15 b(Examples:)197
X1617 y Fn(123)197 1667 y(99887766554433221100)174 1717
Xy Fv(The)e(second)f(form)g(enables)h(to)e(specify)h(numbers)h(in)e(any)
Xh(base)h(between)g Fn(2)f Fv(and)g Fn(36)p Fv(.)21 b(For)12
Xb(this,)g(the)112 1767 y(number)c(itself)f(is)i(enclosed)f(by)g(two)g
X(number)g(signs)g(\()p Fn(#)p Fv(\))g(and)h(is)f(pre\256xed)g(by)g(the)
Xh(base)g(\(the)f(base)h(is)f(always)112 1816 y(expressed)14
Xb(in)e(the)i(decimal)g(system\).)24 b(The)14 b(set)g(of)f(permissible)g
X(digits)f(depends)h(on)g(the)g(chosen)h(base;)112 1866
Xy(upper)o(-)9 b(and)i(lower)o(-case)g(characters)h(are)f(equivalent.)j
X(Examples:)197 1916 y Fn(2#11100101#)197 1966 y(16#ff00#)197
X2016 y(36#1AZ#)112 2065 y Fv(Note)c(that)f(only)g(positive)g(values)i
X(can)g(be)f(speci\256ed,)i(and)e(that)g(there)g(is)g(no)g(\252sign)g
X(extension\272.)112 2176 y Fh(2.3.4)41 b(Strings)112
X2253 y Fv(Strings)8 b(are)j(delimited)d(with)h(double)g(quotes)g(\()p
XFn(")p Fv(\).)15 b(Inside)10 b(a)g(string)e(the)i(backslash)g(\()p
XFn(\\)p Fv(\))g(is)f(used)h(as)h(escape)112 2303 y(character)n(.)17
Xb(The)12 b(backslash)f(character)h(itself)e(can)i(be)f(obtained)f(by)h
X(two)f(consecutive)h(backslashes.)18 b(The)112 2353 y(double)12
Xb(quote)h(character)h(inside)f(a)h(string)e(must)h(also)g(be)h
X(pre\256xed)f(with)g(a)h(backslash.)25 b(Non-printable)112
X2403 y(characters)15 b(can)g(be)f(expressed)h(in)f(hexadecimal)h(form:)
X21 b(a)15 b(backslash)g(followed)d(by)i(a)h(lower)o(-case)g(\()p
XFn(x)p Fv(\))112 2453 y(introduces)9 b(a)i(two)e(character)j(hex-char)e
X(sequence.)17 b(Examples:)197 2502 y Fn("hello)24 b(world\\x0a")197
X2552 y("a)h(\\\\)f(backslash")197 2602 y("a)h(\\")f(double)h(quote")889
X2790 y Fv(6)p eop
X%%Page: 7 3
X7 6 bop 174 7 a Fv(Strings)9 b(can)i(also)f(be)h(expressed)g(using)e
X(hexadecimal)i(characters)h(only)m(.)j(The)c(delimiter)e(in)h(this)f
X(case)112 57 y(is)h(the)g(backslash.)15 b(Example:)197
X107 y Fn(\\627261766f\\)112 215 y Fh(2.3.5)41 b(Special)10
Xb(Characters)i(W)o(ith)e(Fixed)g(Meaning)112 293 y Fv(The)15
Xb(ef)o(fect)h(and)f(meaning)g(of)g(some)h(characters)g(cannot)f(be)h
X(changed)f(by)g(a)g Fn(M\351)g Fv(program.)30 b(W)m(e)15
Xb(have)112 343 y(already)d(encountered)g(white)g(spaces,)j(the)d
X(numbers,)h(the)g(number)f(sign,)h(double)e(quote)h(and)g(backslash)112
X392 y(character)n(.)27 b(There)16 b(are)f(3)f(additional)e(characters)j
X(that)f(the)g Fn(M\351)g Fv(scanner)h(treats)f(in)g(a)h(special)f(way:)
X23 b(the)112 442 y(quote)9 b(\()p Fn(')p Fv(,)i(also)f(called)g
X(apostrophe\))g(and)g(the)g(two)g(curly)f(brackets)i(\()p
XFk(fg)p Fv(\).)174 492 y(When)h(the)h Fn(M\351)f Fv(scanner)h
X(encounters)f(an)h(identi\256er)n(,)g(it)e(creates)j(an)e
XFp(executable)h Fv(token.)21 b(This)12 b(means)112 542
Xy(that)d(the)g Fn(M\351)g Fv(interpreter)g(later)h(on)f(tries)g(to)g
X(immediately)g(execute)i(the)e(found)g(identi\256er)f(by)i(looking)d
X(it)i(up)112 592 y(in)g(the)h(dictionary)e(stack.)15
Xb(Quoted)10 b(identi\256ers,)f(that)g(is)h(identi\256ers)f(pre\256xed)h
X(by)g(an)g(apostrophe,)f(become)112 642 y Fp(literal)h
XFv(names.)21 b(Consequently)11 b(the)g(interpreter)g(only)g(pushes)h
X(the)g(name)h(token)e(on)g(the)h(operand)g(stack.)112
X691 y(Some)e(code)h(examples)g(that)f(all)g(push)g(a)h(\(literal\))d
X(name)k(token)d(but)h(do)g(not)f(execute)i(it:)197 741
Xy Fn('x)197 791 y('a)p 249 791 13 2 v 15 w(name)197 841
Xy('L)174 891 y Fv(The)17 b(curly)f(brackets)g(introduce)g
XFp(pr)n(ocedur)n(e)i(de\256nitions)c Fv(which)i(require)g(the)g
X(scanner)h(to)f(behave)112 940 y(slightly)6 b(dif)o(ferent:)13
Xb(all)c(identi\256ers)f(that)g(follow)f(an)j(opening)d(bracket)j(are,)g
X(although)d(not)h(quoted,)h(pushed)112 990 y(on)d(the)i(operand)f
X(stack)g(without)f(executing)g(them.)15 b(This)7 b(behavior)g
X(continues)f(until)g(the)h(matching)g(closing)112 1040
Xy(bracket)j(is)g(found.)k(The)d(brackets)f(command)h(the)f(scanner)h
X(to)f(group)f(all)h(tokens)f(between)i(the)f(two)f(curly)112
X1090 y(brackets)h(into)e(an)i(executable)h(array)f(which)g(then)f(is)h
X(pushed)f(on)h(the)f(operand)h(stack)g(but)f(is)h(not)f(executed)112
X1140 y(either)n(.)24 b(The)14 b(curly)f(brackets)h(must)f(therefore)g
X(be)h(balanced,)h(otherwise)e(a)h(syntax)f(error)h(is)f(generated.)112
X1189 y(Examples)e(of)f(procedure)g(de\256nitions:)197
X1239 y Fk(f)25 b Fn(0)f(I)h Fk(g)197 1289 y(f)g Fn(0)f(X)h
XFk(f)g Fn(+)g Fk(g)f Fn(L)h Fk(g)112 1397 y Fh(2.3.6)41
Xb(Single-Character)11 b(Identi\256ers)112 1475 y Fv(All)j(characters)i
X(that)f(have)g(not)g(been)g(mentioned)g(so)g(far)g(are)h(treated)f(by)g
X(the)g Fn(M\351)g Fv(scanner)h(as)g(single-)112 1525
Xy(character)c(identi\256ers.)18 b(Thus,)12 b(the)f(set)g(of)g(upper)o
X(-case)i(characters,)g(most)e(of)g(the)g(punctation)f(characters,)112
X1575 y(but)f(also)h(the)g(codes)h(in)f(the)g(range)h(127)688
X1581 y Fe(dec)744 1575 y Ff(:)c(:)g(:)e Fv(255)862 1581
Xy Fe(dec)922 1575 y Fv(are)11 b Fp(self-delimiting)c(identi\256ers)p
XFv(.)174 1625 y(The)16 b(problem)e(with)g(identi\256ers)h(with)f(codes)
Xh(lar)o(ger)h(than)f(126)1138 1631 y Fe(dec)1202 1625
Xy Fv(is)g(that)g(they)f(cannot)h(be)h(easily)112 1674
Xy(entered)i(with)f(standard)h(text)g(editors.)39 b(This,)20
Xb(of)e(course,)j(becomes)f(irrelevant)e(if)f(a)i(messenger)h(is)112
X1724 y(generated)10 b(by)g(a)h(program)f(\(another)f(messenger\).)17
Xb(The)11 b(advantage)f(is)g(that)g(one)g(can)h(achieve)g(a)g(compact)
X112 1774 y(coding)e(and)h(that)g(it)f(helps)h(for)g(a)h(fast)f
X(scanning.)174 1824 y(The)g(following)d(example)j(assigns)g(to)f(the)g
X(lower)o(-case)i(identi\256er)d Fn(dict)h Fv(the)h(operator)f(for)g
X(creating)g(a)112 1874 y(dictionary)m(.)14 b(Afterwards)c(it)f
X(\(re-\)uses)i(the)f Fn(D)g Fv(identi\256er)f(for)h(de\256ning)g(a)g
X(\252duplicate\272)h(functionality:)197 1923 y Fn(.)25
Xb('dict)p 399 1923 V 39 w(sys)g('D)f(G)h(:)83 b(.)25
Xb('D)g Fk(f)f Fn(0)h(I)g Fk(g)g Fn(:)112 1973 y Fv(Having)7
Xb(said)h(that)g(upper)o(-case)i(and)e(punctation)f(characters)i(are)g
X(self-delimiting)d(means)k(that)d(they)h(can)h(be)112
X2023 y(written)f(back)j(to)f(back)h(without)d(intermediate)i(white)f
X(spaces.)17 b(Thus,)11 b(the)f(previous)f(example)i(becomes)197
X2073 y Fn(.'dict)p 374 2073 V 39 w(sys'DG:.'D)p Fk(f)p
XFn(0I)p Fk(g)p Fn(:)112 2123 y Fv(\(observe)f(the)g Fn(D)g
XFv(and)h Fn(G)f Fv(character)h(as)g(well)f(as)h(the)f(identi\256er)f
X(sequence)j Fn(dict)e Fv(and)p 1368 2123 V 25 w Fn(sys)p
XFv(\).)174 2172 y(Note)e(that)f(the)i(control)e(codes)h(below)g(32)773
X2178 y Fe(dec)831 2172 y Fv(\(which)g(have)h(been)f(not)g(mentioned)f
X(so)i(far\))f(are)h(reserved)112 2222 y(and)h(should)f(not)g(be)i
X(used.)112 2339 y Fo(2.4)50 b(Data)11 b(types)112 2417
Xy Fn(M\351)h Fv(has)h(10)g(data)g(types)f(which)h(are)g(grouped)f(in)g
X(two)g(classes.)24 b(The)14 b(\256rst)e(class)i(contains)e(the)h(so)f
X(called)112 2466 y(\252simple\272)e(types)g(which)g(are:)197
X2516 y Fn(integer,)24 b(key,)h(mark,)f(name,)g(null,)h(oper)f
XFv(and)h Fn(time)10 b Fv(.)112 2566 y(The)k(types)f(of)h(the)f(other)h
X(class)g(are)h(called)f(\252composite\272)g(because)h(their)e(values)h
X(are)h(made)g(of)e(several)112 2616 y(\252other)d(values\272.)15
Xb(This)c(class)g(contains)e(the)i(types:)197 2666 y Fn(array,)24
Xb(dict)h Fv(and)g Fn(string)9 b Fv(.)889 2790 y(7)p eop
X%%Page: 8 4
X8 7 bop 174 7 a Fv(The)10 b(big)e(dif)o(ference)i(between)f
X(\252simple\272)h(and)f(\252composite\272)h(data)g(types)f(lies)g(in)f
X(the)h(way)h(how)e(values)112 57 y(of)13 b(composite)g(types)g(are)h
X(handled)f(on)g(the)g(operand)h(stack.)25 b(Making)12
Xb(a)i(copy)g(of)f(a)h(simple)f(data)h(value)112 107 y(copies)g(its)g
X(content)g(and)g(thus)g(creates)i(a)e(new)h(instance)g(of)f(this)f
X(type.)28 b(Copying)12 b(a)j(composite)f(value,)112 157
Xy(however)n(,)d(only)f(creates)j(a)e(new)g(\252reference\272)j(to)c
X(this)g(data;)h(the)g(composite)g(data)g(resides)g(somewhere)h(in)112
X206 y(the)c(virtual)f(memory)i(area)h(and)f(is)f(usually)g
XFp(not)g Fv(duplicated)f(by)i(operand)f(stack)h(manipulations)e
X(\(however)n(,)112 256 y(see)k(the)f(discussion)f(on)h(local)g(vs.)h
X(global)e(data)i(values)f(on)g(page)h(10\).)174 306 y(Each)h(type)f
X(and)g(its)g(particularities)f(is)h(in)f(the)h(following)e(brie\257y)i
X(described.)18 b(After)11 b(this,)g(the)g(notion)112
X356 y(of)e Fp(attribute)g Fv(and)h(the)g(distinction)e(between)j
X(global)e(and)h(local)g(data)h(values)f(is)g(discussed.)112
X464 y Fh(2.4.1)41 b(The)11 b Fn(array)f Fh(T)m(ype)112
X542 y Fv(An)k(array)g(is)g(an)h(ordered)f(collection)f(of)h(a)h
X(\256xed)g(number)f(of)g(other)g(data)g(values:)23 b(the)14
Xb(types)g(of)g(these)112 592 y(elements)f(may)g(be)f(dif)o(ferent.)21
Xb(Each)14 b(element)f(of)f(an)g(array)h(is)f(addressed)i(through)c(its)
Xi(position)e(i.e.,)k(an)112 642 y(integer)d(value,)h(whereas)h(the)f
X(\256rst)f(position)f(is)i(indexed)f(by)h(the)f(value)h(0.)20
Xb(Accesses)14 b(outside)d(the)g(range)112 691 y(of)e(0)e
XFf(:)g(:)g(:)e(l)q(eng)q(th)10 b Fk(\000)g Fv(1)g(generate)h(a)g(range)
Xp 713 691 13 2 v 15 w(check)g(error)n(.)174 741 y(Arrays)h(are)i
X(composite)e(objects.)22 b(Thus,)14 b(changing)e(the)g(content)g(of)h
X(an)g(index)e(position)g(changes)i(it)112 791 y(for)d(all)g(references)
Xi(to)e(the)h(array:)16 b(other)10 b(processes)i(having)d(access)k(to)d
X(the)h(same)h(array)f(will)f(\252see\272)i(these)112
X841 y(changes.)112 949 y Fh(2.4.2)41 b(The)11 b Fn(dict)f
XFh(T)m(ype)112 1027 y Fv(Dictionaries)k(are)j(sets)f(of)g(key/value)f
X(pairs)h(and)g(belong)f(therefore)h(also)g(to)f(the)h(class)g(of)g
X(composite)112 1077 y(objects.)h(In)11 b Fn(M\351)p Fv(,)h(every)f
X(data)h(type)f(can)h(be)f(used)h(as)f(a)h(key)f(\(thus,)g(not)g(only)f
X(values)h(of)g(type)g Fn(key)p Fv(\).)18 b(This)112 1127
Xy(also)10 b(applies)g(to)g(the)g(\252value\272)h(which)f(can)h(have)g
X(any)f(type.)15 b(In)10 b(most)g(cases,)i(however)n(,)f(the)g(key)f(is)
Xg(of)g(type)112 1176 y Fn(name)p Fv(.)174 1226 y(New)i(key/value)f
X(pairs)g(can)h(be)g(de\256ned)g(at)g(any)f(moment:)17
Xb(if)11 b(there)h(was)g(already)g(an)f(entry)g(with)g(the)112
X1276 y(same)e(key)m(,)h(the)e(old)g(entry)g(is)h(removed)f(and)h
X(replaced)g(by)f(the)h(new)g(one.)14 b(It)8 b(is)h(also)f(possible)g
X(to)g(selectively)112 1326 y(remove)i(an)h(entry)f(by)g
X(\252unde\256ning\272)f(it.)174 1376 y(Note)i(a)h(particularity)e(when)
Xh(using)g(composite)g(objects)g(as)h(keys:)18 b(only)10
Xb(when)i(the)f(reference)i(to)e(the)112 1426 y Fp(same)f
XFv(composite)f(object)h(is)f(given)g(can)i(an)f(entry)f(be)h(found)f
X(\(in)g(the)h(case)h(of)f(simple)f(keys)h(it)f(suf)o(\256ces)i(that)112
X1475 y(the)f Fp(content)f Fv(of)h(the)g(search)i(key)e(and)g(the)g
X(entry)g(key)g(is)g(the)h(same\).)174 1525 y(Dictionaries)c
X(automatically)g(adapt)h(their)f(size)h(to)f(the)h(number)g(of)f
X(de\256ned)i(entries)1391 1510 y Fj(2)1407 1525 y Fv(.)14
Xb(Thus,)9 b(no)f(length)112 1575 y(must)i(be)g(given)g(when)g(creating)
Xg(a)h(dictionary)m(.)112 1683 y Fh(2.4.3)41 b(The)11
Xb Fn(int)f Fh(T)m(ype)112 1761 y Fv(The)j Fn(M\351)g
XFv(platform)f(provides)g(signed)g(integer)g(values)h(which)g(are)h(at)e
X(least)i(32)e(bits)g(wide)h(\(some)g(imple-)112 1811
Xy(mentations)d(may)j(of)o(fer)e(64)g(bit)g(integers\).)18
Xb(The)12 b(handling)e(of)i(integer)f(values)g(is)h(characterized)h(by)e
X(very)112 1861 y(loose)f(error)g(checking)g(e.g.,)h(in)f(case)i(of)e
X(over\257ow)g(errors.)174 1911 y(Note)j(that)f(integers)g(are)i(used)f
X(as)h(boolean)e(values:)20 b(0)13 b(means)h(\252false\272,)h(all)e
X(other)f(values)h(represent)112 1960 y(the)d(value)g(\252true\272)h
X(\(the)f Fn(M\351)g Fv(comparison)g(operators)g(always)g(return)g(0)g
X(or)g(1\).)112 2069 y Fh(2.4.4)41 b(The)11 b Fn(key)f
XFh(T)m(ype)112 2147 y Fv(V)-5 b(alues)12 b(of)g(type)f
XFn(key)g Fv(are)i(like)e(names,)j(but)d(adhere)h(to)f(some)i
X(speci\256c)g(format)e(conventions.)19 b(Keys)12 b(are)112
X2196 y(represented)e(as)h(a)g(string)e(of)i(exactly)f(8)g(bytes)g
X(\(and)h(are)g(thus)f(64)g(bits)f(wide\).)15 b(They)c(are)g(either)f
X(randomly)112 2246 y(generated)g(\(the)g Fn(;)g Fv(operator\),)g(or)g
X(converted)g(from)g(an)h(arbitrary)e(8-byte)h(string.)174
X2296 y(The)16 b(reason)f(to)g(introduce)f(this)g(special)h(type)g(lies)
Xg(in)g(the)f(need)i(to)f(address)g(process)h(queues)g(and)112
X2346 y(communication)f(channels.)33 b(On)15 b(one)h(hand)g(do)g
X(process)g(queues)h(not)e(require)g(an)i(explicit)d(creation:)112
X2396 y(it)f(suf)o(\256ces)j(to)e(enter)h(\()p Fn(E)g
XFv(operator\))e(or)i(to)f(stop)g(\()p Fn(Q)g Fv(operator\))g(a)i
X(process)f(queue)g(in)f(order)g(to)g(create)i(it.)112
X2445 y(Channels,)e(on)g(the)g(other)f(hand,)i(are)g(explicitly)d
X(created)j(\(see)g(the)p 1135 2445 V 29 w Fn(cha)e Fv(dictionary\),)h
X(yielding)e(a)j(key)112 2495 y(value)e(as)h(a)g(handle)f(to)g(it)g
X(\(see)h(the)g Fn($)f Fv(operator\).)24 b(Thus,)15 b(process)f(queues)g
X(as)g(well)f(as)h(communication)112 2545 y(channels)c(can)g(be)g
X(accessed)i(through)c(keys,)j(but)e(they)g(are)i(not)e(\(and)g(need)i
X(not)e(to)g(be\))h(additional)e Fn(M\351)h Fv(data)112
X2595 y(types.)p 112 2626 630 2 v 157 2654 a Fg(2)171
X2666 y Fm(The)f(\256rst)h Fd(M\351)f Fm(implementation)f(has)h(an)f
X(internal)h(limit)h(of)f(512)f(entries)h(per)g(dictionary)n(.)889
X2790 y Fv(8)p eop
X%%Page: 9 5
X9 8 bop 112 7 a Fh(2.4.5)41 b(The)11 b Fn(mark)f Fh(T)m(ype)112
X85 y Fv(There)i(is)g(only)f(one)h Fn(mark)f Fv(value)h(of)g(type)f
XFn(mark)p Fv(.)20 b(It)11 b(is)h(used)g(to)f(leave)i(a)f(mark)h(on)e
X(the)h(operand)g(stack:)112 135 y(the)g(array)g(creation)h(operator)e
X(\()p Fn(])p Fv(\))h(references)i(it)e(in)f(order)h(to)g(group)f(stack)
Xi(operands)g(to)e(an)i(array)m(.)22 b(The)112 185 y(count)9
Xb(operator)h(\()p Fn(O)p Fv(\))g(also)g(relies)g(on)g(the)g(presence)i
X(of)e(a)h(mark)f(value)h(on)f(the)g(operand)g(stack.)112
X295 y Fh(2.4.6)41 b(The)11 b Fn(name)f Fh(T)m(ype)112
X372 y Fv(The)18 b(syntactic)f(rules)g(how)g(the)h Fn(M\351)f
XFv(scanner)i(recognizes)f(names)h(have)f(already)f(been)h(discussed)g
X(in)112 422 y(section)d(2.3.)32 b(Names)17 b(are)g(simple)f(values)g
X(and)g(are)g(handled)g(on)f(a)h(system-wide)g(basis.)32
Xb(Like)16 b(keys)112 472 y(they)c(can)h(be)f(used)h(by)f(two)g(dif)o
X(ferent)g(messenger)h(processes)h(in)e(order)g(to)g(index)g(an)g(entry)
Xg(\(in)g(a)h(global)112 522 y(dictionary\))8 b(which)i(was)h(de\256ned)
Xf(using)g(the)g(same)i(name.)174 572 y(Although)e(the)h
XFn(M\351)h Fv(scanner)h(imposes)f(strict)f(rules)g(on)h(the)g(form)f
X(of)h(a)g(names)h(it)e(recognizes,)i(names)112 622 y(can)i(be)g
X(composed)f(of)h(arbitrary)e(sequences)j(of)e(bytes:)23
Xb(even)15 b(the)f(space)i(character)g(can)f(be)g(part)f(of)g(a)112
X671 y(name.)i(However)n(,)11 b(such)f(names)i(must)e(be)h(explicitly)d
X(created)j(with)e(the)p 1187 671 13 2 v 25 w Fn(ctn)h
XFv(operator)n(.)112 782 y Fh(2.4.7)41 b(The)11 b Fn(null)f
XFh(T)m(ype)112 859 y Fv(The)k(null)f(value)h(has)h(two)f(utilizations:)
X20 b(\256rst,)15 b(it)e(is)h(the)g(initial)e(value)i(given)g(to)g
X(elements)g(of)g(a)h(newly)112 909 y(created)9 b(array)m(.)16
Xb(And)8 b(second,)i(the)f(null)f(value)h(\(instead)f(of)h(a)h(key)f
X(value\))f(is)h(used)g(to)g(select)g(a)h(local)e(submit)112
X959 y(\()p Fn($)p Fv(\).)20 b(It)11 b(can)i(also)f(be)h(used)f(to)f
X(signal)h(the)g(absence)h(of)f(a)g(value)h(i.e.,)g Fn(null)f
XFv(instead)g(of)g(an)g(empty)g(string)112 1009 y(etc.)112
X1119 y Fh(2.4.8)41 b(The)11 b Fn(oper)f Fh(T)m(ype)112
X1197 y Fv(The)h(built-in)e(operators)h(of)h Fn(M\351)g
XFv(are)h(represented)g(as)g(values)f(of)g Fn(oper)g Fv(type.)17
Xb(The)12 b(system)f(dictionary)f(is)112 1247 y(the)f(main)h(place)h
X(where)f(one)g(maps)g(the)g(prede\256ned)g(names)h(to)e(these)h
X(operators.)15 b(For)9 b(a)i Fn(M\351)e Fv(program)h(it)f(is)112
X1296 y(not)g(possible)g(to)h(create)i(new)e(instances)h(of)f(this)f
X(type.)112 1407 y Fh(2.4.9)41 b(The)11 b Fn(string)e
XFh(T)m(ype)112 1484 y Fn(M\351)g Fv(strings)e(are)j(arrays)g
X(containing)d(integer)i(values)g(only)m(.)14 b(All)8
Xb(elements)i(must)f(have)h(values)f(in)f(the)h(range)112
X1534 y(0)e Ff(:)g(:)g(:)e Fv(255.)174 1584 y(The)11 b(fact)g(that)f
X(strings)f(are)j(composite)e(objects)g(intervenes)h(in)f(three)h(dif)o
X(ferent)e(ways.)17 b(First,)10 b(as)i(with)112 1634 y(all)c(composite)h
X(objects,)g(only)f(references)i(are)g(found)e(on)g(the)h(operand)g
X(stack.)15 b(Changes)9 b(to)f(one)h(reference)112 1684
Xy(also)i(apply)f(to)h(all)g(other)g(references)i(to)d(the)h(same)i
X(object.)18 b(Second,)12 b(extracting)f(a)h(substring)d(of)i(a)h
X(string)112 1733 y(object)i(may)h(only)f(return)g(a)h(reference)h(that)
Xe(of)o(fers)h(a)h Fp(view)f Fv(on)f(the)g(original)f(string.)28
Xb(Changes)15 b(to)f(the)112 1783 y(substring)d(may)i(or)f(may)h(not)f
X(be)h(visible)f(in)g(the)g(original)f(string.)21 b(And)13
Xb(third,)f(also)g(a)i(concatenation)e(of)112 1833 y(strings)e(does)i
X(not)f(necessarily)i(create)g(a)f(new)g(string)e(object.)20
Xb(Modi\256cations)10 b(of)i(a)g(concatenated)h(string)112
X1883 y(may)d(also)h(af)o(fect)g(the)f(string)f(fragments)h(which)g
X(were)h(used)f(to)g(assemble)i(the)e(new)g(string)f(object.)112
X1993 y Fh(2.4.10)41 b(The)10 b Fn(time)g Fh(T)m(ype)112
X2071 y Fv(A)e(time)f(value)h(identi\256es)g(an)g(absolute)f(time)h
X(between)h Fn(1970-01-01)e Fv(and)h Fn(2038-01-18)f Fv(with)g(micro-)
X112 2121 y(second)14 b(resolution.)25 b(All)13 b(time)h(operations)f
X(refer)i(to)e(coordinated)g(universal)h(time)g(\()p Fm(UTC)p
XFv(\);)h Fn(M\351)f Fv(has)h(no)112 2170 y(notion)8 b(of)i(local)g
X(time.)174 2220 y(Note)h(that)f(the)h Fn(@)g Fv(operator)f(which)h
X(returns)f(the)h(current)g Fm(UTC)h Fv(not)e(necessarily)h(of)o(fers)h
X(micro-second)112 2270 y(resolution.)35 b(Also)18 b(it)f(is)g(very)h
X(unlikely)e(that)h(a)h(timeout)f(\()p Fn(E)g Fv(operator\))g(would)g
X(of)o(fer)h(micro-second)112 2320 y(precision.)112 2438
Xy Fo(2.5)50 b(Attributes)112 2516 y Fv(Composite)13 b(objects)g(can)i
X(be)g(shared)f(because)i(only)d(references)j(are)f(available)f(on)f
X(the)h(operand)g(stack)112 2566 y(while)f(their)g(content)g(resides)i
X(in)e(the)h(virtual)e(memory)i(area.)28 b(Attributes)12
Xb(enable)i(in)g(a)g(simple)g(way)g(to)112 2616 y(control)9
Xb(the)i(access)j(to)c(such)h(composite)g(objects.)18
Xb(Three)12 b(attributes,)e(all)h(associated)h(with)e(an)h(action)g(on)
X889 2790 y(9)p eop
X%%Page: 10 6
X10 9 bop 112 7 a Fv(the)11 b(object,)g(are)h(de\256ned:)17
Xb Fn(read)p Fv(,)12 b Fn(write)f Fv(and)g Fn(exec)p Fv(.)19
Xb(They)11 b(apply)g(to)g(the)g(references)i(and)f(not)e(to)h(the)112
X57 y(composite)e(object!)14 b(Thus,)d(one)e(can)i(give)e(away)i(a)f
X(restricted)f(reference)j(but)c(keep)j(the)e(unrestricted)g(one.)174
X107 y(When)h(an)f(object)h(is)f(created,)i(the)e(read,)i(write)e(and)h
X(exec)h(attributes)d(are)i(all)f(set)h(i.e.,)h(all)e(three)h(actions)
X112 157 y(are)h(permitted.)k(The)c Fn(W)f Fv(operator)g(can)h(be)g
X(used)g(to)e(selectively)i(remove)g(attributes.)j(Note)c(that)g
X(attributes)112 206 y(can)d(only)g(be)g(removed)h(\(masked)g(away\))f
X(but)g(cannot)g(be)g(\(re-\)set.)15 b(The)8 b(three)f(attributes)f
X(have)h(a)h(somewhat)112 256 y(dif)o(ferent)f(semantics)i(depending)e
X(on)h(the)f(object')n(s)h(type.)14 b(However)n(,)9 b(for)f(any)g
XFn(M\351)g Fv(data)g(value)g(it)g(is)g(true)f(that)112
X306 y(if)h(all)h(attributes)f(are)i(set)f(this)g(means)h(that)e(all)h
X(operations)f(supported)h(by)f(the)h(value')n(s)g(type)g(are)h
X(permitted.)112 397 y Fn(read)p Fh(:)20 b Fv(Removing)12
Xb(the)h(read)h(attribute)d(prevents)i(the)g(access)j(to)c(a)i(single)e
X(element)i(of)f(the)g(composite)215 447 y(object.)19
Xb(Such)12 b(a)g(situation)e(is)h(useful)h(when)f(one)h(wishes)g(to)f
X(protect)g(the)g(content)g(of)g(a)i(procedure)215 497
Xy(\(which)8 b(is)g(an)h(array\))f(or)g(a)h(string:)j(although)7
Xb(it)g(is)h(not)f(possible)h(anymore)h(to)e(read)i(single)f(elements,)
X215 547 y(the)i(procedure)h(or)f(string)f(can)i(still)d(be)j(executed)g
X(\(if)e(the)h Fn(exec)g Fv(attribute)f(is)h(set\).)112
X630 y Fn(write)p Fh(:)20 b Fv(W)n(ithout)8 b(the)h(write)g(attribute)f
X(an)i(object)f(cannot)g(be)h(altered)f(anymore.)15 b(This)10
Xb(not)f(only)f(applies)215 680 y(to)i(the)g(rede\256nition)f(of)h(the)g
X(object')n(s)f(elements)i(but)f(also)g(to)g(the)g(object')n(s)f
X(attributes!)112 763 y Fn(exec)p Fh(:)20 b Fv(The)d Fn(exec)e
XFv(attribute)g(mainly)h(applies)g(to)f(the)h(loop)f(operator)h(\()p
XFn(L)p Fv(\):)f(it)h(controls)f(the)h(right)e(to)215
X812 y(\252browse\272)e(a)g(composite)f(object.)17 b(Once)11
Xb(the)g Fn(exec)g Fv(attribute)e(has)j(been)f(removed)h(from)f(a)g
X(dictio-)215 862 y(nary)m(,)j(it)e(is)h(possible)e(to)i(access)h
X(elements)g(only)d(if)i(one)f(knows)h(the)f(exact)h(key)g(that)f(was)i
X(used)f(at)215 912 y(de\256nition)c(time.)15 b(The)c(global)e
X(dictionary)g(\(which)g(has)i(the)f(name)p 1207 912 13
X2 v 26 w(\))h(is)f(protected)g(this)f(way)m(.)112 1031
Xy Fo(2.6)50 b(Local)12 b(vs.)h(Global)f(Data)f(V)-5 b(alues)112
X1108 y Fp(Note:)14 b(the)c(topic)f(of)h(this)f(paragraph)g(is)h
X(subject)g(of)g(ongoing)e(discussions.)15 b(Futur)n(e)c(versions)f(of)g
XFn(M\351)g Fp(may)112 1158 y(implement)f(another)g(memory)i(management)
Xf(semantics.)174 1208 y Fv(The)16 b(basic)g(execution)f(model)g(of)g
XFn(M\351)h Fv(distinguishes)d(local)i(from)h(global)e(memory:)25
Xb(the)16 b(operand)112 1258 y(and)11 b(dictionary)f(stack)i(are)h
X(local)e(to)g(a)h(process,)h(the)f(system)g(dictionary)e(and)i(the)f
X(global)g(dictionary)f(are)112 1308 y(accessible)h(to)f(all)g
X(processes.)174 1357 y(Simple)k(data)g(values)h(pose)f(no)g(problem:)22
Xb(because)16 b(their)e(content)f(is)h(\(physically\))f(copied)h(on)g
X(as-)112 1407 y(signment,)e(they)g(can)h(be)g(put)e(into)g(global)h
X(memory)g(as)i(well)d(as)j(in)d(local)h(memory)h(without)e(dif)o
X(ference.)112 1457 y(Composite)g(objects,)h(however)n(,)i(are)f
X(subject)f(of)g(another)f(treatment.)21 b(The)13 b(main)f(reason)h(is)f
X(to)g(separate)112 1507 y(as)e(far)g(as)h(possible)e(local)h(virtual)e
X(memory)i(from)g(global)f(virtual)f(memory)i(in)g(order)f(to)h
X(simplify)e(parallel)112 1557 y(implementations)h(of)h(the)g
XFn(M\351)g Fv(interpreter)n(.)174 1607 y(When)g(a)g(process)g(creates)h
X(a)f(composite)f(object,)g(this)g(object)g(is)g(placed)h(in)f(the)h
XFp(local)e Fv(virtual)g(memory)112 1656 y(area.)19 b(On)11
Xb(the)g(other)g(hand)g(must)g(all)g(composite)g(objects)f(visible)g(in)
Xh(the)g(system)h(and)f(global)f(dictionary)112 1706 y(reside)f(in)g
XFp(global)e Fv(virtual)h(memory)i(for)e(being)h(accessible)i(by)e(all)f
X(processes)j(\(this)d(point)g(is)h Fp(not)f Fv(subject)h(to)112
X1756 y(modi\256cations\).)k(W)n(ith)d(the)f(current)g
XFn(M\351)h Fv(platform)e(the)i(transition)d(from)i(local)h(to)f(global)
Xf(virtual)g(memory)112 1806 y(is)j(made)i(at)f(the)g(moment)g(when)g(a)
Xg(local)g(object)f(is)h(put)f(into)g(a)h(global)f(composite)g(object.)
X20 b(In)12 b(this)f(case,)112 1856 y(the)e(local)g(object')n(s)g
X(content)g(is)g(\(physically\))f(copied,)i(creating)f(by)g(the)g(way)h
X(a)g(second)g(object)f(with)f(a)i(new)112 1905 y(reference.)174
X1955 y(Stated)e(in)g(other)f(words,)i(if)e(you)h(want)g(to)g(create)h
X(and)f(modify)g(an)g(array)h(\(or)e(any)i(other)e(composite)h(data)112
X2005 y(type\))j(in)h(the)g(global)g(dictionary)m(,)g(proceed)g(as)i
X(follows:)j(\(a\))12 b(create)i(a)f(\(local\))f(array)m(,)i(\(b\))e
X(put)f(it)h(into)f(the)112 2055 y(global)f(dictionary)m(.)19
Xb(Do)11 b Fp(not)g Fv(reuse)i(the)e(reference)j(to)d(the)g(original)f
X(array)j(but)e(\(c\))g(get)h(the)g(\(now)f(global\))112
X2105 y(array)h(from)g(the)g(global)f(dictionary)g(before)h(\(d\))g
X(altering)f(its)g(elements.)22 b(Also,)13 b(do)e Fp(not)h
XFv(rely)f(on)h(the)g(fact)112 2154 y(that)d(a)i(physical)f(copy)g(was)h
X(made.)174 2204 y(It)g(is)h(possible)f(that)g(the)h(distinction)e
X(between)i(local)g(and)g(global)f(virtual)f(memory)i(disappears)h(with)
X112 2254 y(future)e(versions)h(of)g Fn(M\351)p Fv(.)21
Xb(However)n(,)14 b(adhering)e(to)g(the)g(proposed)f(access)k(procedure)
Xd(for)g(global)f(values)112 2304 y(should)e(make)i(older)f(programs)g
X(still)e(work)i(with)f(newer)i(versions)f(of)g Fn(M\351)p
XFv(.)878 2790 y(10)p eop
X%%Trailer
Xend
Xuserdict /end-hook known{end-hook}if
X%%EOF
END_OF_FILE
if test 45187 -ne `wc -c <'M0-2.ps'`; then
    echo shar: \"'M0-2.ps'\" unpacked with wrong size!
fi
# end of 'M0-2.ps'
fi
echo shar: End of archive 11 \(of 12\).
cp /dev/null ark11isdone
MISSING=""
for I in 1 2 3 4 5 6 7 8 9 10 11 12 ; do
    if test ! -f ark${I}isdone ; then
	MISSING="${MISSING} ${I}"
    fi
done
if test "${MISSING}" = "" ; then
    echo You have unpacked all 12 archives.
    rm -f ark[1-9]isdone ark[1-9][0-9]isdone
else
    echo You still need to unpack the following archives:
    echo "        " ${MISSING}
fi
##  End of shell archive.
exit 0
