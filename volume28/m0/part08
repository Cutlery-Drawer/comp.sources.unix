Newsgroups: comp.sources.unix
From: tschudin@cui.unige.ch (Christian Tschudin)
Subject: v28i058: m0 - a messenger execution environment, Part08/12
References: <1.770917478.19277@gw.home.vix.com>
Sender: unix-sources-moderator@gw.home.vix.com
Approved: vixie@gw.home.vix.com

Submitted-By: tschudin@cui.unige.ch (Christian Tschudin)
Posting-Number: Volume 28, Issue 58
Archive-Name: m0/part08

#! /bin/sh
# This is a shell archive.  Remove anything before this line, then unpack
# it by saving it into a file and typing "sh file".  To overwrite existing
# files, type "sh file -c".  You can also feed this as standard input via
# unshar, or by typing "sh <file", e.g..  If this archive is complete, you
# will see the following message at the end:
#		"End of archive 8 (of 12)."
# Contents:  M0-1.ps
# Wrapped by tschudin@cuisunf on Mon Jun  6 13:26:03 1994
PATH=/bin:/usr/bin:/usr/ucb ; export PATH
if test -f 'M0-1.ps' -a "${1}" != "-c" ; then 
  echo shar: Will not clobber existing file \"'M0-1.ps'\"
else
echo shar: Extracting \"'M0-1.ps'\" \(41764 characters\)
sed "s/^X//" >'M0-1.ps' <<'END_OF_FILE'
X%!PS-Adobe-2.0
X%%Creator: dvipsk 5.516a Copyright 1986, 1993 Radical Eye Software
X%%Title: m0.dvi
X%%Pages: 4 0
X%%PageOrder: Ascend
X%%BoundingBox: 0 0 596 842
X%%DocumentFonts: Times-Roman Courier Times-Italic Times-Bold
X%%EndComments
X%%BeginProcSet: tex.pro
X/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
X/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
Xmul N /fixcurrentmatrix{statusdict /product known{statusdict /product
Xget(LaserJet 4)eq{/version where{/version get(2011.110)eq{matrix
Xcurrentmatrix dup dup 0 get 32768 mul round 32768 div 0 exch put dup dup
X3 get 32768 mul round 32768 div 3 exch put systemdict /setmatrix get
Xexec}if}if}if}if}B /setmatrix{systemdict /setmatrix get exec
Xfixcurrentmatrix}B /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1
X}{-1 1}ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg
Xscale isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution
X-72 div hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1
Xadd mul TR matrix currentmatrix dup dup 4 get round 4 exch put dup dup 5
Xget round 5 exch put setmatrix}N /@landscape{/isls true N}B /@manualfeed
X{statusdict /manualfeed true put}B /@copies{/#copies X}B /FMat[1 0 0 -1
X0 0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{/nn 8 dict N nn
Xbegin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N string /base X
Xarray /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N end dup{/foo
Xsetfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{/sf 1 N /fntrx
XFMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]N df-tail}B /E{
Xpop nn dup definefont setfont}B /ch-width{ch-data dup length 5 sub get}
XB /ch-height{ch-data dup length 4 sub get}B /ch-xoff{128 ch-data dup
Xlength 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub get 127 sub}B
X/ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data dup type
X/stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N /rc 0 N /gp
X0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup /base get 2
Xindex get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx 0 ch-xoff
Xch-yoff ch-height sub ch-xoff ch-width add ch-yoff setcachedevice
Xch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff .1 add]{
Xch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}if nn
X/base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup length 1
Xsub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{cc 1 add D
X}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin 0 0
Xmoveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul add
X.99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore showpage
Xuserdict /eop-hook known{eop-hook}if}N /@start{userdict /start-hook
Xknown{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
X/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
X65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
X0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
X{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
Xgetinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
Xifelse}{false}ifelse end{{gsave TR -.1 -.1 TR 1 1 scale rulex ruley
Xfalse RMat{BDot}imagemask grestore}}{{gsave TR -.1 -.1 TR rulex ruley
Xscale 1 1 false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave
Xtransform round exch round exch itransform moveto rulex 0 rlineto 0
Xruley neg rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta
X0 N /tail{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}
XB /c{-4 M}B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{
X3 M}B /k{4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p
X-1 w}B /q{p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{
X3 2 roll p a}B /bos{/SS save N}B /eos{SS restore}B end
X%%EndProcSet
X%%BeginProcSet: texps.pro
XTeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2
Xindex /UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
Xexec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
Xexch def dict begin Encoding{exch dup type /integertype ne{pop pop 1 sub
Xdup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
Xifelse}forall Metrics /Metrics currentdict end def[2 index currentdict
Xend definefont 3 -1 roll makefont /setfont load]cvx def}def
X/ObliqueSlant{dup sin S cos div neg}B /SlantFont{4 index mul add}def
X/ExtendFont{3 -1 roll mul exch}def /ReEncodeFont{/Encoding exch def}def
Xend
X%%EndProcSet
X%%BeginProcSet: special.pro
XTeXDict begin /SDict 200 dict N SDict begin /@SpecialDefaults{/hs 612 N
X/vs 792 N /ho 0 N /vo 0 N /hsc 1 N /vsc 1 N /ang 0 N /CLIP 0 N /rwiSeen
Xfalse N /rhiSeen false N /letter{}N /note{}N /a4{}N /legal{}N}B
X/@scaleunit 100 N /@hscale{@scaleunit div /hsc X}B /@vscale{@scaleunit
Xdiv /vsc X}B /@hsize{/hs X /CLIP 1 N}B /@vsize{/vs X /CLIP 1 N}B /@clip{
X/CLIP 2 N}B /@hoffset{/ho X}B /@voffset{/vo X}B /@angle{/ang X}B /@rwi{
X10 div /rwi X /rwiSeen true N}B /@rhi{10 div /rhi X /rhiSeen true N}B
X/@llx{/llx X}B /@lly{/lly X}B /@urx{/urx X}B /@ury{/ury X}B /magscale
Xtrue def end /@MacSetUp{userdict /md known{userdict /md get type
X/dicttype eq{userdict begin md length 10 add md maxlength ge{/md md dup
Xlength 20 add dict copy def}if end md begin /letter{}N /note{}N /legal{}
XN /od{txpose 1 0 mtx defaultmatrix dtransform S atan/pa X newpath
Xclippath mark{transform{itransform moveto}}{transform{itransform lineto}
X}{6 -2 roll transform 6 -2 roll transform 6 -2 roll transform{
Xitransform 6 2 roll itransform 6 2 roll itransform 6 2 roll curveto}}{{
Xclosepath}}pathforall newpath counttomark array astore /gc xdf pop ct 39
X0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}if}N
X/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1 -1
Xscale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3 get
Xppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip yflip
Xnot and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub neg 0
XTR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{noflips{TR
Xpop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop 90 rotate 1
X-1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg
XTR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr 1 get neg
Xsub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr 2 get ppr
X0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4 -1 roll add
X2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S TR}if}N /cp
X{pop pop showpage pm restore}N end}if}if}N /normalscale{Resolution 72
Xdiv VResolution 72 div neg scale magscale{DVImag dup scale}if 0 setgray}
XN /psfts{S 65781.76 div N}N /startTexFig{/psf$SavedState save N userdict
Xmaxlength dict begin /magscale false def normalscale currentpoint TR
X/psf$ury psfts /psf$urx psfts /psf$lly psfts /psf$llx psfts /psf$y psfts
X/psf$x psfts currentpoint /psf$cy X /psf$cx X /psf$sx psf$x psf$urx
Xpsf$llx sub div N /psf$sy psf$y psf$ury psf$lly sub div N psf$sx psf$sy
Xscale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub TR
X/showpage{}N /erasepage{}N /copypage{}N /p 3 def @MacSetUp}N /doclip{
Xpsf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
Xroll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
Xmoveto}N /endTexFig{end psf$SavedState restore}N /@beginspecial{SDict
Xbegin /SpecialSave save N gsave normalscale currentpoint TR
X@SpecialDefaults count /ocount X /dcount countdictstack N}N /@setspecial
X{CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
Xclosepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
Xsub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
X}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
XCLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
Xlineto closepath clip}if /showpage{}N /erasepage{}N /copypage{}N newpath
X}N /@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{
Xend}repeat grestore SpecialSave restore end}N /@defspecial{SDict begin}
XN /@fedspecial{end}B /li{lineto}B /rl{rlineto}B /rc{rcurveto}B /np{
X/SaveX currentpoint /SaveY X N 1 setlinecap newpath}N /st{stroke SaveX
XSaveY moveto}N /fil{fill SaveX SaveY moveto}N /ellipse{/endangle X
X/startangle X /yrad X /xrad X /savematrix matrix currentmatrix N TR xrad
Xyrad scale 0 0 1 startangle endangle arc savematrix setmatrix}N end
X%%EndProcSet
XTeXDict begin 39158280 55380996 1000 300 300 (m0.dvi)
X@start /Fa 1 59 df<60F0F06004047D830B>58 D E /Fb 1 25
Xdf<0F8000801FE000803FF0008070780180E01C0380C00F07008007FE008003FC008000
XF80019097E8D1E>24 D E /Fc 134[22 1[33 22 25 14 19 19
X1[25 25 25 36 14 22 1[14 25 25 1[22 25 22 25 25 13[25
X1[36 30 36 1[41 6[30 1[36 33 1[30 65[{}30 50.000000 /Times-Italic
Xrf /Fd 22[20 107[20 1[20 1[20 20 20 20 20 20 20 20 20
X20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
X1[20 20 20 2[20 2[20 3[20 20 2[20 20 1[20 20 1[20 1[20
X20 4[20 1[20 1[20 20 2[20 1[20 1[20 20 20 20 20 20 1[20
X20 1[20 20 20 2[20 20 20 20 33[{}65 33.333332 /Courier
Xrf /Fe 3 102 df<07800C4010E031C0600060006000C000C0004020404021801E000B0D
X7E8C0F>99 D<007C000C0018001800180018003007B00C7010703060606060606060C0C0
XC0C8C0C841C862D03C700E147E9311>I<07800C401020304060407F8060004000C00040
X20604021801E000B0D7E8C10>I E /Ff 7 117 df<60F0F06004047C830C>58
XD<01F007080C0818043808300870307FC0E000E000E000E000E000E0046008601030600F
X800E127E9113>101 D<007180018B800307800607800E07000C07001C07001C0700380E
X00380E00380E00380E00381C00381C00381C00183C0008F8000738000038000038000070
X00607000F06000F0E000E180007E0000111A7F9114>103 D<0FC00001C00001C0000380
X000380000380000380000700000700000700000700000E3E000EC3000F03800E03801E03
X801C03801C03801C0380380700380700380700380E00700E20700E20701C20701C40E00C
X80600700131D7E9C18>I<1F800380038007000700070007000E000E000E000E001C001C
X001C001C0038003800380038007000700070007000E400E400E400E40064003800091D7E
X9C0C>108 D<381F004E61804681C04701C08F01C08E01C00E01C00E01C01C03801C0380
X1C03801C0700380710380710380E10380E2070064030038014127E9119>110
XD<00C001C001C001C00380038003800380FFF00700070007000E000E000E000E001C001C
X001C001C00382038203840384018800F000C1A80990F>116 D E
X/Fg 205[12 12 49[{}2 25.000000 /Times-Roman rf /Fh 78[21
X1[23 23 52[21 21 30 21 23 14 16 18 23 23 21 23 35 12
X23 1[12 23 21 1[18 23 18 23 21 9[42 2[28 23 30 3[30 39
X28 2[16 32 1[25 2[30 1[30 6[14 21 21 21 21 21 21 21 21
X21 21 1[10 14 3[14 14 40[{}53 41.666668 /Times-Bold rf
X/Fi 22[30 116[30 4[30 30 30 30 2[30 1[30 2[30 30 21[30
X28[30 1[30 46[{}13 50.000000 /Courier rf /Fj 204[15 15
X15 49[{}3 29.166668 /Times-Roman rf /Fk 5 104 df<FFFFFF80FFFFFF8019027D
X8A20>0 D<03C00FF01FF83FFC7FFE7FFEFFFFFFFFFFFFFFFF7FFE7FFE3FFC1FF80FF003
XC010107E9115>15 D<07C000201FE000203FF80020783C0060E01F00E0C00783C08003FF
X808000FF0080007C001B097E8E20>24 D<003C00E001C001800380038003800380038003
X800380038003800380038003800380030007001C00F0001C000700030003800380038003
X80038003800380038003800380038003800380018001C000E0003C0E297D9E15>102
XD<F0001C0007000300038003800380038003800380038003800380038003800380038001
X8001C000E0003C00E001C001800380038003800380038003800380038003800380038003
X800380030007001C00F0000E297D9E15>I E /Fl 22[35 155[35
X77[{}2 58.333336 /Courier rf /Fm 69[15 10[18 18 3[15
X48[17 17 24 17 17 9 13 11 17 17 17 17 26 9 1[9 9 17 17
X11 15 17 15 17 15 8[24 2[24 20 18 22 1[18 24 24 30 20
X2[11 24 1[18 20 24 22 22 24 6[9 17 17 1[17 17 2[17 17
X17 1[8 4[11 11 40[{}57 33.333332 /Times-Roman rf /Fn
X22[25 37[25 1[25 68[25 1[25 25 25 25 25 25 25 25 25 25
X25 25 25 25 25 25 1[25 25 25 25 25 25 25 25 25 3[25 25
X25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
X25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
X25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25 25
X25 25 25 25 25 33[{}90 41.666668 /Courier rf /Fo 81[28
X52[25 25 36 25 28 17 19 22 1[28 25 28 41 14 2[14 28 25
X17 22 28 22 28 25 9[50 36 36 33 28 36 1[30 39 36 47 33
X2[19 1[39 30 33 36 36 1[36 7[25 25 25 25 25 25 25 25
X25 25 1[12 17 12 2[17 17 40[{}56 50.000000 /Times-Bold
Xrf /Fp 81[21 52[18 18 28 18 21 12 16 16 21 21 21 21 30
X12 18 12 12 21 21 12 18 21 18 21 21 13[21 25 1[25 30
X28 35 23 5[25 2[28 8[14 7[21 21 1[12 10 14 3[14 14 40[{}43
X41.666668 /Times-Italic rf /Fq 135[29 1[29 32 19 23 26
X1[32 29 32 48 16 2[16 32 29 19 26 32 26 1[29 12[39 1[42
X1[36 45 2[39 2[23 2[36 39 3[42 11[29 29 29 29 29 49[{}33
X58.333336 /Times-Bold rf /Fr 167[22 4[17 3[22 22 27 3[10
X4[22 68[{}7 29.999987 /Times-Roman rf /Fs 80[21 21 52[19
X19 27 19 19 10 15 12 19 19 19 19 29 10 19 1[10 19 19
X12 17 19 17 19 17 12 3[10 1[23 4[27 23 21 5[33 6[21 11[10
X10[10 9 12 9 2[12 12 12 4[15 34[{}43 37.500000 /Times-Roman
Xrf /Ft 139[12 15 17 14[17 21 19 31[27 65[{}7 37.500000
X/Times-Bold rf /Fu 22[22 37[22 69[22 22 22 1[22 22 22
X22 22 22 22 22 22 22 22 22 22 22 22 1[22 22 22 22 22
X22 22 22 22 22 22 1[22 22 22 22 22 22 22 22 22 22 22
X22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22
X22 22 22 22 22 22 22 1[22 22 22 22 22 22 22 22 22 22
X22 22 22 22 22 22 22 22 22 22 22 1[22 22 33[{}90 37.500000
X/Courier rf /Fv 60[14 14 14 6[18 8[21 1[23 23 3[18 47[18
X21 21 30 21 21 12 16 14 21 21 21 21 32 12 21 12 12 21
X21 14 18 21 18 21 18 14 2[14 1[14 1[30 1[39 30 30 25
X23 28 30 23 30 30 37 25 30 16 14 30 30 23 25 30 28 28
X30 5[12 12 21 21 21 21 21 21 21 21 21 21 12 10 14 10
X23 1[14 14 14 4[17 14 33[{}83 41.666668 /Times-Roman
Xrf /Fw 134[25 3[25 14 19 17 3[25 4[14 25 3[25 22 1[22
X12[30 6[44 6[28 2[33 9[25 4[25 25 1[25 2[12 1[12 44[{}21
X50.000000 /Times-Roman rf /Fx 134[17 1[25 17 19 10 15
X15 19 1[19 19 27 3[10 19 1[10 17 19 2[19 11[27 6[25 2[25
X1[12 5[25 10[19 1[19 12[12 12 12 39[{}27 37.500000 /Times-Italic
Xrf /Fy 22[42 155[42 77[{}2 70.833336 /Courier rf /Fz
X138[35 20 27 23 2[35 35 4[20 35 35 1[31 35 31 1[31 19[63
X43 2[23 7[51 65[{}17 70.833336 /Times-Roman rf end
X%%EndProlog
X%%BeginSetup
X%%Feature: *Resolution 300dpi
XTeXDict begin
X%%PaperSize: a4
X
X%%EndSetup
X%%Page: 1 1
X1 0 bop 224 182 a Fz(An)18 b(Introduction)h(to)f(the)f
XFy(M\351)i Fz(Messenger)h(Language)485 273 y Fx(\(Cahier)9
Xb(du)g(Centr)o(e)e(Universitair)o(e)g(d'Informatique)i(No)g(86\))686
X393 y Fw(Christian)j(F)l(.)h(T)m(schudin)611 451 y Fv(University)8
Xb(of)i(Geneva,)i(Switzerland)641 509 y Fu(<tschudi)q(n@c)q(ui)q(.un)q
X(ig)q(e.)q(ch>)760 606 y Fw(May)h(31,)f(1994)830 740
Xy Ft(Abstract)271 794 y Fs(This)h(report)h(describes)e
XFu(M\351)i Fs(\(M-Zero\),)j(a)c(new)g(high-level)g(programming)g
X(language)e(and)i(ex-)215 839 y(ecution)g(environment)g(designed)f(for)
Xi(the)g(messenger)o(-base)o(d)d(provision)i(of)h(computer)f(communi-)
X215 885 y(cation)g(services.)26 b(\(Messengers)12 b(are)h
X(protocol-unspeci\256c)e(instruction)j(sequences)c(that)k(`replace')215
X931 y(the)f(protocol-speci\256c)e(messages)f(on)i(which)g(ordinary)h
X(computer)f(communication)f(protocols)h(are)215 976 y(based\).)29
Xb Fu(M\351)16 b Fs(stands)d(for)i(\(a\))g(an)f(external)h
X(representation)e(of)i(messengers,)f(\(b\))h(a)f(programming)215
X1022 y(language)c(and)h(\(c\))h(a)g(messenger)d(execution)h
X(environment.)21 b(The)11 b(report)h(introduces)e(the)i(concepts)215
X1068 y(underlying)d Fu(M\351)p Fs(,)h(describes)e(the)h(supported)f
X(data)h(types)f(and)g(contains)g(a)h(complete)g(manual)f(explain-)215
X1113 y(ing)h(each)e(instruction)i(understood)e(by)h(an)g
XFu(M\351)i Fs(execution)d(platform.)14 b(Some)8 b(small)h
XFu(M\351)g Fs(programming)215 1159 y(examples)e(are)i(included)f(as)g
X(well)h(as)f(a)h(complete)e(messenger)g(expressed)f(in)j
XFu(M\351)p Fs(.)15 b(Finally)n(,)9 b(we)f(brie\257y)215
X1205 y(report)i(on)e(a)h(\256rst)h(prototype)e(implementation)h(that)g
X(runs)g(on)g(various)f(U)p Fr(NIX)g Fs(platforms)i(and)e
XFr(MS)p Fs(/)p Fr(DOS)p Fs(.)271 1250 y Fx(Keywor)o(ds)p
XFs(:)17 b Fu(M\351)c Fs(programming)e(language,)g(computer)h
X(communications,)f(communication)f(by)215 1296 y(messengers,)d
X(protocol)i(implementation,)g(protocol)g(interpretation.)112
X1433 y Fq(1)58 b(Intr)o(oduction)112 1526 y Fv(If)11
Xb(you)f(have)i(worked)f(in)g(the)g(domain)g(of)g(computer)g
X(communications)g(then)f(you)h(will)f(have)i(acquired)f(a)112
X1575 y(thorough)g(understanding)h(of)h(the)g(importance)g(of)g(the)g
XFp(message)p Fv(.)25 b(It)13 b(starts)g(with)g(the)g(interpretation)e
X(of)112 1625 y(signals)e(at)h(the)g(electric)g(or)f(optical)g(level,)i
X(yielding)d(\256rst)h(brute)h(message)h(pieces)g(that)e(must)h(to)f(be)
Xi(further)112 1675 y(analyzed)h(and)h(grouped,)f(making)g(messages)i
X(available)e(on)g(a)g(higher)g(level)g(and)g(so)g(on.)21
Xb(Interpretation)112 1725 y(in)10 b(this)g(context)h(usually)f(means)i
X(that)f(sender)h(and)f(receiver)h(perform)f(a)h(prescribed)f
XFp(pr)n(otocol)p Fv(.)17 b(It)11 b(is)g(also)112 1775
Xy(well)g(known)h(that)f(for)h(this)f(model)h(to)g(work,)g(the)g(sender)
Xh(and)f(receiver)h(must)f(have)h(agreed)g(in)f(advance)112
X1825 y(about)f(the)g(coding)g(rules)h(and)g(protocols)e(used.)21
Xb(Moreover)11 b(must)h(both)f(parties)g(have)i(protocol-speci\256c)112
X1874 y(software)d(installed)f(which)h(perform)g(the)g(required)g
X(coding,)f(interpretation)f(and)j(interaction)e(activities.)174
X1924 y Fp(Messengers)j Fv(function)d(quite)h(dif)o(ferently)f(but)h
X(they)g(also)h(provide)e(full)h(support)f(for)i(computer)f(com-)112
X1974 y(munications)d(and)h(perhaps)h(even)g(more)f(than)g(what)g(can)i
X(be)e(obtained)g(by)g(the)g(message-exchange)i(model.)112
X2024 y(And)j(most)h(amazing:)22 b(you)13 b(can)i(perform)e(a)i
X(protocol)d(with)h(a)h(remote)g(computer)g(which)f(does)h(neither)112
X2074 y(understand)8 b(the)i(protocol)d(you)i(are)h(using)f(nor)g(has)h
X(the)f(protocol-speci\256c)g(software)g(installed!)k(The)d(idea)112
X2123 y(of)i(messengers)i(is)f(simple:)19 b(instead)12
Xb(of)h(letting)d(a)k(remote)f(host)f Fp(interpr)n(et)g
XFv(messages,)k(you)c Fp(instruct)g Fv(the)112 2173 y(remote)e(host)g
X(what)g(it)g(has)h(to)f(do)g(with)g(a)h(piece)g(of)f(data)h(you)f
X(send.)16 b(Nothing)8 b(more)j(is)g(necessary)h(for)e(this)112
X2223 y(model)g(to)f(work.)174 2273 y(It)d(is)h(not)g(the)g(goal)g(of)g
X(this)f(report)g(to)h(discuss)g(the)g(reason)h(for)f(and)g(the)g
X(consequences)h(of)f(the)g(messenger)112 2323 y(approach.)15
Xb(The)10 b(reader)g(is)f(invited)f(to)g(consult)h(the)g(literature)f
X([3])h(for)g(a)h(more)f(thorough)f(treatment)h(of)g(the)112
X2373 y(instructional)c(way)j(of)g(computer)g(communications.)14
Xb(For)8 b(the)f(rest)h(of)g(this)f(report)g(we)i(\252talk)e
X(messengers\272.)112 2488 y Fo(1.1)50 b(Report)11 b(Overview)112
X2566 y Fv(This)e(introduction)e(continues)i(with)g(a)h(brief)f
X(overview)g(of)h(the)f(ingredients)g(necessary)i(for)e(a)h(messenger)o
X(-)112 2616 y(based)k(communication)f(environment.)24
Xb(The)14 b(most)g(important)e(element)i(is)g(the)f(messenger)i
X(execution)112 2666 y(platform.)889 2790 y(1)p eop
X%%Page: 2 2
X2 1 bop 174 7 a Fv(The)14 b(main)g(section)f(2)g(presents)h(the)g
X(de\256nition)d(of)j(such)f(a)i(platform)d(in)h(terms)h(of)f(a)i
X(programming)112 57 y(language)d(as)h(well)g(as)g(an)g(external)f
X(representation)g(format)g(for)g(messengers.)24 b(The)13
Xb(language)g(is)f(called)112 107 y Fn(M\351)p Fv(,)g(which)g(stands)g
X(for)g(the)g(\256rst)g(generation)f(of)h(messenger)h(languages.)21
Xb(At)12 b(the)g(same)i(time)e(is)g Fn(M\351)g Fv(the)112
X157 y(name)f(for)f(the)g(execution)f(platform)h(that)f(hosts)h
X(messenger)i(processes.)174 206 y(Section)7 b(3)g(shows)g(some)g
XFn(M\351)g Fv(programming)g(examples)h(\(including)t(a)g(complete)g
X(200-byte)d(messenger)112 256 y(that)k(discovers)h(all)f(neighbors)g
X(of)g(a)i Fn(M\351)e Fv(platform\),)h(while)f(section)g(4)h(reports)f
X(on)h(a)g(\256rst)g(implementation)112 306 y(of)f(an)i
XFn(M\351)f Fv(execution)g(platform)f(and)i(presents)f(the)g(associated)
Xh(programs.)174 356 y(The)k(last)e(section)h(enumerates)i(some)e(of)g
X(the)g(most)g(obvious)f(points)g(of)g(messengers)j(and)e
XFn(M\351)g Fv(that)112 406 y(need)c(further)g(investigations.)112
X524 y Fo(1.2)50 b(Elements)13 b(for)f(a)g(Messenger)h(Mode)f(of)g
X(Computer)g(Communications)112 602 y Fv(A)i(communication)f
X(architecture)h(based)g(on)g(messengers)h(assumes)h(a)e(single)f(and)h
X(basic)h(message)h(ex-)112 652 y(change)11 b(level.)k(In)10
Xb(this)g(point)f(it)g(dif)o(fers)i(in)e(no)h(way)h(from)f(the)h
X(ordinary)m(,)f Fm(PDU)p Fv(-based)h(computer)f(commu-)112
X702 y(nication)f(architecture.)17 b(However)n(,)11 b(the)g
X(message-exchange)i(principle)c(is)i Fp(not)e Fv(extended)i(to)f(the)h
X(internal)112 751 y(functioning)d(of)i(a)h(host)f(\(because)i(this)e
X(leads)h(to)g(the)f(layering)g(approach)h(where)g(each)h(layer)f(has)g
X(its)f(own)112 801 y(protocol)e(that)i(needs)h(to)e(be)i(de\256ned)g
X(in)e(terms)i(of)f(protocol-speci\256c)f(messages\).)174
X851 y(The)16 b(single)e(and)h(basic)h(message)h(layer)e(of)g(a)h
X(messenger)h(architecture)e(is)g(necessary)i(in)d(order)h(to)112
X901 y(allow)8 b(a)h(host)g(instruct)e(the)i(peer)h(host.)k(On)9
Xb(one)g(side)g(there)g(must)g(be)g(an)g(agreement)i(on)d(how)h(to)f
X(recognize)112 951 y(\(delimit\))k(messengers,)k(and)e(what)f
X(instructions)f(are)i(available.)26 b(Messengers)14 b(are)h(thus)e
X(sequences)i(of)112 1000 y(instructions.)d(On)d(the)f(other)g(side)h
X(there)g(must)g(be)g(correspondence)g(that)f(correctly)h(received)g
X(messengers)112 1050 y(are)i(unconditionall)o(y)d(executed.)174
X1100 y(Beside)k(these)g(\252external\272)g(aspects)h(one)f(needs)h(to)e
X(de\256ne)h(the)g(ef)o(fects)h(a)f(messenger)h(\(or)f(its)f(instruc-)
X112 1150 y(tions\))6 b(can)i(have)g(inside)f(a)h(host.)13
Xb(It)7 b(is)h(clear)g(that,)g(because)h(this)d(is)h(equivalent)g(to)g
X(de\256ning)g(a)h(programming)112 1200 y(language,)h(there)h(can)g(and)
Xg(will)e(be)i(many)f(dif)o(ferent)g(proposals)g(all)g(having)f(their)h
X(proper)g(coding)f(etc.)16 b(For)112 1250 y Fn(M\351)c
XFv(we)h(adopted)f(the)g(execution)g(model)g(proposed)g(in)g([3)o(])g
X(which)g(stresses)i(the)e(autonomous)f(character)112
X1299 y(of)h(messengers:)22 b(each)14 b(received)f(messenger)i(becomes)f
X(an)f(independent)f Fp(messenger)j(pr)n(ocess)p Fv(.)24
Xb(These)112 1349 y(messenger)17 b(processes)f(are)h(in)e(some)h(sense)h
X(\252autistic\272)f(as)g(they)f(cannot)h(interact)f(directly)g(with)f
X(each)112 1399 y(other:)j(only)11 b(by)h(using)f Fp(pr)n(ocess)i
X(queues)g Fv(can)g(they)e(synchronize)h(their)f(activities.)20
Xb(Similarly)11 b(can)i(mes-)112 1449 y(senger)f(processes)h(not)e
X(directly)g(exchange)i(data)f(values)g(but)f(must)h(use)h(the)e(global)
Xg(memory)i(of)e(a)i(host.)112 1499 y(Figure)c(1)h(shows)g(in)f(a)h
X(pictorial)f(way)h(the)g(internal)f(elements)h(of)g(a)g(host)g(that)f
X(supports)g(messenger)o(-based)112 1548 y(communications.)493
X1599 y
X 12827443 12103843 0 0 12827443 12103843 startTexFig
X 493 1599 a
X%%BeginDocument: platform.ps
X/$F2psDict 200 dict def 
X$F2psDict begin
X$F2psDict /mtrx matrix put
X/l {lineto} bind def
X/m {moveto} bind def
X/s {stroke} bind def
X/n {newpath} bind def
X/gs {gsave} bind def
X/gr {grestore} bind def
X/clp {closepath} bind def
X/graycol {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
X4 -2 roll mul setrgbcolor} bind def
X/col-1 {} def
X/col0 {0 0 0 setrgbcolor} bind def
X/col1 {0 0 1 setrgbcolor} bind def
X/col2 {0 1 0 setrgbcolor} bind def
X/col3 {0 1 1 setrgbcolor} bind def
X/col4 {1 0 0 setrgbcolor} bind def
X/col5 {1 0 1 setrgbcolor} bind def
X/col6 {1 1 0 setrgbcolor} bind def
X/col7 {1 1 1 setrgbcolor} bind def
X/col8 {.68 .85 .9 setrgbcolor} bind def
X/col9 {0 .39 0 setrgbcolor} bind def
X/col10 {.65 .17 .17 setrgbcolor} bind def
X/col11 {1 .51 0 setrgbcolor} bind def
X/col12 {.63 .13 .94 setrgbcolor} bind def
X/col13 {1 .75 .8 setrgbcolor} bind def
X/col14 {.7 .13 .13 setrgbcolor} bind def
X/col15 {1 .84 0 setrgbcolor} bind def
X /DrawEllipse {
X	/endangle exch def
X	/startangle exch def
X	/yrad exch def
X	/xrad exch def
X	/y exch def
X	/x exch def
X	/savematrix mtrx currentmatrix def
X	x y translate xrad yrad scale 0 0 1 startangle endangle arc
X	savematrix setmatrix
X	} def
X
X	end
X/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
X/$F2psEnd {$F2psEnteredState restore end} def
X
X$F2psBegin
X0 setlinecap 0 setlinejoin
X-18.0 240.0 translate 0.900 -0.900 scale
X0.500 setlinewidth
Xn 99 164 m 99 174 l gs col-1 s gr
Xn 114 174 m 114 164 l  109 164 l  109 174 l  clp gs 0.80 setgray fill gr
Xgs col-1 s gr
Xn 109 174 m 109 164 l  104 164 l  104 174 l  clp gs 0.80 setgray fill gr
Xgs col-1 s gr
Xn 114 174 m 114 164 l  94 164 l  94 174 l  clp gs col0 s gr
Xn 99 179 m 99 189 l gs col-1 s gr
Xn 114 189 m 114 179 l  109 179 l  109 189 l  clp gs 0.80 setgray fill gr
Xgs col-1 s gr
Xn 109 189 m 109 179 l  104 179 l  104 189 l  clp gs 0.80 setgray fill gr
Xgs col-1 s gr
Xn 114 189 m 114 179 l  94 179 l  94 189 l  clp gs col0 s gr
Xn 99 194 m 99 204 l gs col-1 s gr
Xn 114 204 m 114 194 l  109 194 l  109 204 l  clp gs 0.80 setgray fill gr
Xgs col-1 s gr
Xn 109 204 m 109 194 l  104 194 l  104 204 l  clp gs 0.80 setgray fill gr
Xgs col-1 s gr
Xn 114 204 m 114 194 l  94 194 l  94 204 l  clp gs col0 s gr
Xn 99 214 m 99 224 l gs col-1 s gr
Xn 114 224 m 114 214 l  109 214 l  109 224 l  clp gs 0.80 setgray fill gr
Xgs col-1 s gr
Xn 109 224 m 109 214 l  104 214 l  104 224 l  clp gs 0.80 setgray fill gr
Xgs col-1 s gr
Xn 114 224 m 114 214 l  94 214 l  94 224 l  clp gs col0 s gr
X/Courier-Oblique findfont 12.00 scalefont setfont
X64 256 m 
Xgs 1 -1 scale (arriving) col-1 show gr
X/Courier-Oblique findfont 12.00 scalefont setfont
X64 266 m 
Xgs 1 -1 scale (messengers) col-1 show gr
Xn 204 229 6 3 0 360 DrawEllipse gs 0.00 setgray fill gr
Xgs col-1 s gr
Xn 174 229 6 3 0 360 DrawEllipse gs 0.00 setgray fill gr
Xgs col-1 s gr
Xn 189 229 6 3 0 360 DrawEllipse gs 0.00 setgray fill gr
Xgs col-1 s gr
Xn 61 151 m 74 146 l  84 155 l  82 168 l  69 173 l  59 164 l 
X clp gs col-1 s gr
Xn 77 111 m 64 106 l  54 115 l  56 128 l  69 133 l  79 124 l 
X clp gs col-1 s gr
Xn 47 131 m 34 126 l  24 135 l  26 148 l  39 153 l  49 144 l 
X clp gs col-1 s gr
Xn 117 136 m 122 123 l  113 113 l  100 115 l  95 128 l  104 138 l 
X clp gs col-1 s gr
Xn 39 229 m 29 214 l  39 224 l  39 204 l  44 224 l  69 209 l 
X 49 229 l gs col-1 s gr
Xn 234 229 m 234 79 l  19 79 l  19 229 l  clp gs col-1 s gr
Xn 144 174 m 144 99 l  219 99 l  219 174 l gs col-1 s gr
X	1 setlinecap [1 3.000000] 3.000000 setdash
Xn 64 259 m
X	54.127 258.708 49.877 257.708 47 255 curveto
X	44.707 252.841 44.354 247.413 44 245 curveto
X	43.746 243.266 43.746 240.766 44 235 curveto
Xgs col-1 s gr
X	[] 0 setdash 0 setlinecap
Xn 41.650 242.904 m 44.000 235.000 l 45.646 243.080 l gs 2 setlinejoin col-1 s gr
X	1 setlinecap [1 3.000000] 3.000000 setdash
Xn 174 229 m
X	173.577 237.641 173.577 241.391 174 244 curveto
X	174.595 247.666 176.206 255.779 179 259 curveto
X	180.482 260.708 182.982 261.958 189 264 curveto
Xgs col-1 s gr
X	[] 0 setdash 0 setlinecap
Xn 182.067 259.535 m 189.000 264.000 l 180.782 263.323 l gs 2 setlinejoin col-1 s gr
X	1 setlinecap [1 3.000000] 3.000000 setdash
Xn 204 229 m
X	208.573 238.187 211.073 241.937 214 244 curveto
X	217.347 246.359 222.347 247.609 234 249 curveto
Xgs col-1 s gr
X	[] 0 setdash 0 setlinecap
Xn 226.293 246.066 m 234.000 249.000 l 225.819 250.038 l gs 2 setlinejoin col-1 s gr
Xn 34 214 m
X	30.032 196.955 28.782 189.455 29 184 curveto
X	29.197 179.070 30.412 168.473 34 164 curveto
X	35.946 161.574 41.361 159.623 44 159 curveto
X	45.770 158.582 48.270 158.582 54 159 curveto
Xgs col-1 s gr
Xn 46.167 156.423 m 54.000 159.000 l 45.876 160.413 l gs 2 setlinejoin col-1 s gr
Xn 144 174 m
X	154.206 181.500 159.206 184.000 164 184 curveto
X	170.392 184.000 179.444 176.278 184 174 curveto
X	188.556 171.722 197.258 163.580 204 164 curveto
X	208.077 164.254 211.827 166.754 219 174 curveto
Xgs col-1 s gr
X/Courier-Oblique findfont 12.00 scalefont setfont
X27 95 m 
Xgs 1 -1 scale (processes:) col-1 show gr
X/Courier-Oblique findfont 14.00 scalefont setfont
X164 114 m 
Xgs 1 -1 scale (~) col0 show gr
X/Courier-Oblique findfont 14.00 scalefont setfont
X159 152 m 
Xgs 1 -1 scale (...) col0 show gr
X/Courier-Oblique findfont 14.00 scalefont setfont
X164 134 m 
Xgs 1 -1 scale (~) col0 show gr
X/Courier-Oblique findfont 12.00 scalefont setfont
X149 114 m 
Xgs 1 -1 scale (x) col-1 show gr
X/Courier-Oblique findfont 12.00 scalefont setfont
X149 134 m 
Xgs 1 -1 scale (y) col-1 show gr
X/Courier-Oblique findfont 12.00 scalefont setfont
X174 114 m 
Xgs 1 -1 scale (123) col-1 show gr
X/Courier-Oblique findfont 12.00 scalefont setfont
X174 134 m 
Xgs 1 -1 scale ('abc') col-1 show gr
X/Courier-Oblique findfont 12.00 scalefont setfont
X121 197 m 
Xgs 1 -1 scale (process) col-1 show gr
X/Courier-Oblique findfont 12.00 scalefont setfont
X121 208 m 
Xgs 1 -1 scale (queues) col-1 show gr
X/Courier-Oblique findfont 12.00 scalefont setfont
X158 222 m 
Xgs 1 -1 scale (channels) col-1 show gr
X/Courier-Oblique findfont 12.00 scalefont setfont
X144 94 m 
Xgs 1 -1 scale (dictionary) col-1 show gr
X/Courier findfont 12.00 scalefont setfont
X22 74 m 
Xgs 1 -1 scale (messenger execution platform) col-1 show gr
X$F2psEnd
X%%EndDocument
X
X endTexFig
X 407 2457 a Fv(Figure)h(1:)k(The)d(elements)g(of)f(a)h(messenger)h
X(execution)d(platform.)174 2565 y(A)k(host)f(that)g(participates)g(in)g
X(a)i(messenger)o(-based)g(communication)e(becomes)j(an)e
XFp(execution)g(envi-)112 2615 y(r)n(onment)c Fv(for)h(messengers:)15
Xb(correctly)10 b(received)h(messenger)o(-messages)i(become)e
XFp(concurr)n(ent)f Fv(processes)112 2664 y(with)16 b(their)h(own)g
X(local)h(memory)m(.)38 b(Global)17 b(memory)m(,)k(as)d(shown)g(in)f
X(the)g(\256gure,)j(is)e(or)o(ganized)g(as)g(a)889 2790
Xy(2)p eop
X%%Page: 3 3
X3 2 bop 112 7 a Fv(dictionary)m(.)30 b(The)16 b(processes)h(choose)f
X(the)f(keys)h(\(names\))g(under)g(which)f(they)g(want)g(to)g(deposit)g
X(data.)112 57 y(Correspondingly)9 b(must)k(processes)h(that)e(want)h
X(to)f(fetch)h(data)g(know)f(these)h(names.)24 b(This)12
Xb(also)h(applies)112 107 y(to)f(the)h(process)h(queues)f(where)h(a)g
X(process)f(must)g(choose)h(an)f(identi\256er)f(for)h(creating)g(a)h
X(process)f(queue)112 157 y(and)e(for)g(inserting)e(itself)i(inside)f
X(this)h(queue)g(\(queues)h(serialize)f(the)g(execution)g(of)g
X(processes)i(by)d(letting)112 206 y(only)j(the)i(front-most)e(process)i
X(execute\).)30 b(Knowledge)14 b(of)h(identi\256ers)f(also)h(applies)f
X(to)g(the)h Fp(channels)112 256 y Fv(which)9 b(are)i(an)f(abstraction)f
X(of)h(the)g(basic)g(transport)f(infrastructure)g(between)h(execution)g
X(platforms.)k(The)112 306 y(central)c(instruction)d(in)j(this)f
X(context)g(is)h(the)g Fn(submit)g Fv(operation:)j(messenger)e
X(processes)g(can)g(send)f(new)112 356 y(messengers)h(to)f(neighboring)e
X(hosts,)i(but)f(can)i(also)g(spawn)f(new)h(local)f(processes.)174
X406 y(Sharing)e(a)i(common)g(name)g(space)h(\(the)d(global)h
X(dictionary!\))j(has)e(the)f(obvious)f(problem)h(of)f(possible)112
X456 y(name)13 b(clashes)h(and)e(could)g(require)h(that)f(processes)h
X(have)g(to)f(coordinate)g(the)h(choice)g(of)f Fp(all)g
XFv(names.)23 b(In)112 505 y(order)12 b(to)g(avoid)g(the)h(introduction)
Xd(of)i(a)i(heavy-weight)d(coordination)g(infrastructure)h(we)h(have)g
X(chosen)112 555 y(to)e(introduce)g Fp(random)h(keys)h
XFv(which)f(are)h(strings)e(of)h(64)g(bits.)20 b(This)12
Xb(is)g(an)h(adaptation)e(of)h(a)h(concept)f(that)112
X605 y(stems)f(from)f(the)g(domain)h(of)f(distributed)e(operating)h
X(systems)j(where)f(servers)g(can,)h(within)c(some)k(limits,)112
X655 y(independently)6 b(choose)i(\252capabilities\272)g(for)g(the)g
X(objects)f(they)h(manage)h(\(A)p Fm(MOEBA)p Fv(,)g(C)p
XFm(HORUS)f Fv(and)g(M)p Fm(ACH)p Fv(,)112 705 y(see)j(e.g.)g([2]\).)174
X754 y(The)j(concepts)g(described)g(so)g(far)g(\(submission)f(of)g
X(messengers,)k(unconditional)11 b(execution)i(of)g(re-)112
X804 y(ceived)e(messengers,)h(process)f(queues)g(and)g(the)g
X(uncoordinated)e(shared)i(global)e(memory)j(of)e(a)h(host\))f(are)112
X854 y(the)e(novel)g(elements)h(of)f Fn(M\351)p Fv(.)14
Xb(All)8 b(other)g(aspects)h(of)f Fn(M\351)h Fv(are)g(rather)f
X(traditional)e(imperative)j(programming)112 904 y(elements)k(similar)e
X(to)h(the)h(ones)f(found)f(in)h(P)p Fm(OST)p Fv(S)p Fm(CRIPT)p
XFv(.)24 b Fn(M\351)12 b Fv(is)h(a)g(high)e(level)h(programming)g
X(language)112 954 y(that)e(supports)h(typed)g(and)g(structured)g(data)g
X(values,)i(but)d(which)i(also)f(includes)g(a)h(concurrent)f(execution)
X112 1003 y(model)e(and)h(a)g(standard)g(communication)f(environment.)14
Xb(The)c(next)f(section)h(describes)g(and)g(de\256nes)g(it)f(in)112
X1053 y(more)h(detail.)112 1193 y Fq(2)58 b(The)14 b Fl(M\351)g
XFq(Language)h(and)h(Execution)f(Envir)o(onment)112 1286
Xy Fv(The)e Fn(M\351)f Fv(language)h(is)f(introduced)g(in)g(\256ve)g
X(steps.)23 b(First,)13 b(the)f(abstract)h(execution)f(model)h
X(underlying)d(a)112 1335 y(single)h(messenger)j(process)f(is)g
X(described.)22 b(Then,)14 b(the)e(external)h(format)f(used)h(to)f
X(transfer)g(messengers)112 1385 y(from)c(one)h(platform)f(to)g(the)h
X(other)f(is)h(explained.)14 b(Third,)9 b(the)g(language)g(used)g
X(inside)f(this)g(external)h(format)112 1435 y(is)h(characterized)i(at)f
X(the)g(syntactic)g(level.)17 b(Fourth,)10 b(the)h(language')n(s)f(data)
Xh(types)g(are)h(discussed.)17 b(Finally)m(,)112 1485
Xy(section)11 b(2.7)h(provides)f(the)h(complete)g(list)f(of)g
XFn(M\351)p Fv(')n(s)h(operators.)19 b(This)12 b(list)f(also)h(includes)
Xf(the)h(global)f(and)112 1535 y(local)f(data)g(structures)g(found)f(in)
Xh(every)g(standard)g Fn(M\351)h Fv(environment.)174 1585
Xy(Note:)17 b(because)d(many)e(concepts)g(of)g Fn(M\351)g
XFv(are)g(inspired)f(from)h(P)p Fm(OST)p Fv(S)p Fm(CRIPT)p
XFv(,)j(the)d(reader)g(may)h(\256nd)e(it)112 1634 y(useful)i(to)h
X(consult)g(an)g(introduction)e(to)i(P)p Fm(OST)p Fv(S)p
XFm(CRIPT)i Fv([1])e(in)g(order)g(have)h(another)f(description)f(of)h
X(the)112 1684 y(concepts)c(underlying)e(the)i Fn(M\351)h
XFv(execution)e(environment.)112 1803 y Fo(2.1)50 b(The)12
Xb(Abstract)g(Machine)g(That)g(Executes)g(a)h(Messenger)112
X1880 y Fv(The)c(origin)d(of)j(a)g(process)g(is)f(always)h(the)f
X(reception)g(of)g(a)h(complete)g(messenger)h(which,)f(for)f
XFn(M\351)p Fv(,)h(has)g(three)112 1930 y(\256elds:)k(a)c(process)h
X(queue)f(identi\256er)e(\(key\),)i(a)g(code)h(and)e(a)h(data)g
X(\256eld.)15 b(The)9 b(code)g(as)h(well)e(as)h(the)g(data)g(\256eld)112
X1980 y(are)i(strings.)16 b(The)c(code)f(strings)f(contains)h(the)f
X(instructions)f(that)i(are)g(to)g(be)g(executed)h(\(the)e(semantics)i
X(of)112 2030 y(the)e(code)i(string)e(is)h(the)g(main)g(topic)f(of)h
X(the)g(present)g(paper\),)h(the)f(data)g(\256eld)g(can)h(carry)f(any)h
X(sequence)g(of)112 2080 y(bytes)h(\(its)g(semantics)h(fully)e(depends)i
X(on)f(the)g(messenger)r(')n(s)h(code\).)26 b(After)13
Xb(reception)g(\(and)h(checksum)112 2129 y(validation\))8
Xb(of)j(a)h(messenger)n(,)h(a)e(new)g(process)h(is)f(created,)h
X(inserted)f(into)e(the)i(indicated)f(process)i(queue,)112
X2179 y(and)i(setup)g(such)h(that)f(the)h(process)g(will)e(start)h
X(executing)g(the)h(code)g(string.)26 b(As)15 b(soon)f(as)i(the)e
X(process)112 2229 y(becomes)f(ready)g(to)e(execute)i(\(because)h(it)d
X(advanced)i(at)g(the)f(process)g(queue')n(s)h(head\),)g(interpretation)
Xd(of)112 2279 y(the)g(code)g(string)f(starts.)174 2329
Xy(Executing)k(a)h(string)f(means)h(that)f(the)h Fp(scanner)g
XFv(reads)h(the)e(string)g(token)g(by)g(token.)25 b(\252T)m(okens\272)15
Xb(are)112 2379 y(either)e(numbers,)i(strings,)e(names)i(or)f(procedure)
Xf(de\256nitions,)h(and)f(are)i(passed)f(to)f(the)h Fn(M\351)f
XFp(interpr)n(eter)112 2428 y Fv(as)g(soon)g(as)h(they)f(were)h
X(scanned.)24 b(The)14 b(interpreter)e(modi\256es,)j(according)d(to)h
X(the)g(token)f(obtained,)i(the)112 2478 y(\252machine\272)e(that)e
X(executes)i(the)f(messenger)n(.)18 b(Only)10 b(one)h(token)g(is)f
X(executed)i(at)f(any)g(moment.)17 b(The)12 b(most)112
X2528 y(important)c(elements)j(of)f(this)g(machine)h(are)g(its)e(three)i
X(stacks)f(and)h(the)f(two)g(virtual)e(memory)j(areas.)174
X2611 y Fk(\017)20 b Fv(The)13 b Fp(operand)f Fv(stack)h(is)g(used)f(to)
Xg(place)h(the)g(operands)f(for)g(almost)h(every)f(operator)g
X(\(instruction\))215 2661 y(de\256ned)e(for)g(the)f(machine.)16
Xb(It)10 b(is)f(also)h(used)g(for)f(returning)f(results.)15
Xb(Thus,)10 b(the)g(abstract)g(execution)889 2790 y(3)p
Xeop
X%%Page: 4 4
X4 3 bop 215 7 a Fv(machine)11 b(is)f(a)h(sequential)f(stack)h(machine.)
X174 90 y Fk(\017)20 b Fv(The)12 b Fp(dictionary)d Fv(stack)i(is)g(used)
Xg(to)f(de\256ne)h(a)h(set)f(of)f(dictionaries)g(where)h(name)h
X(resolution)d(should)215 140 y(be)k(done.)20 b(Each)13
Xb(name)g(returned)f(by)f(the)h(scanner)h(is,)g(before)f(being)f
X(executed,)j(looked)d(up.)20 b(The)215 190 y(interpreter)12
Xb(\256rst)h(tries)g(to)f(resolve)h(the)g(name)h(in)f(the)g(topmost)f
X(dictionary)m(,)h(then)f(continues)h(with)215 240 y(the)e(next)f
X(dictionary)f(in)h(the)h(dictionary)e(stack)i(and)f(so)h(on.)16
Xb(The)11 b(\256rst)g(encountered)f(de\256nition)f(for)215
X289 y(the)h(given)g(name)h(is)f(then)g(adopted.)174 372
Xy Fk(\017)20 b Fv(The)c Fp(execution)f Fv(stack)h(usually)e(is)h(not)f
X(of)h(interest)f(for)h(a)g Fn(M\351)g Fv(programmer:)25
Xb(it)14 b(is)h(used)g(by)g(the)215 422 y(interpreter)7
Xb(to)h(store)g(transient)f(state)i(information)d(like)h(the)h(call)h
X(of)e(procedures)i(or)f(iteration)e(loops.)215 472 y(The)12
Xb(programmer)f(must)g(be)h(aware)g(that)f(the)g(execution)f(stack,)i
X(as)g(well)f(as)g(the)g(other)g(stacks,)h(has)215 522
Xy(an)d(upper)g(bound,)f(and)h(that)f(too)g(complicated)h(programs)g
X(may)g(generate)h(an)f(exec)p 1425 522 13 2 v 16 w(stack)p
X1526 522 V 15 w(over\257ow)215 572 y(error)n(.)174 655
Xy(The)f(data)g(values)g(that)f(were)i(scanned)f(or)g(produced)f(during)
Xf(the)i(execution)f(of)h(a)g(messenger)h(all)e(reside)112
X705 y(in)12 b(an)h(area)h(called)f Fp(virtual)f(memory)p
XFv(:)20 b(data)13 b(objects)g(created)h(by)e(a)i(process)f(are)h
X(stored)e(in)h(the)f(process')112 754 y(\(local\))d(virtual)f(memory)m
X(.)16 b(The)10 b(amount)f(of)h(this)e(memory)j(is)e(usually)g(limited,)
Xg(as)h(well)f(as)i(the)e(number)h(of)112 804 y(objects)h(a)g(process)h
X(de\256nes)g(may)g(be)g(limited)788 789 y Fj(1)803 804
Xy Fv(.)19 b(There)12 b(is)f(also)g(a)h Fp(global)e Fv(virtual)g(memory)
Xh(that)g(contains)112 854 y(the)g(data)g(values)h(accessible)h(by)e
XFp(all)f Fv(messenger)j(processes.)19 b(Note)12 b(that)e(this)h(area)h
X(has)g(limited)e(capacity)112 904 y(too.)k(\(More)c(on)g(local)g(and)g
X(global)f(virtual)g(memory)i(can)g(be)g(found)e(on)h(page)g(10\))112
X1022 y Fo(2.2)50 b(The)12 b(External)g(Format)h(of)f(a)g
XFi(M\351)g Fo(Messenger)112 1100 y Fv(For)f(messengers)i(there)f(must)g
X(be)g(a)g(data)g(format)g(de\256ned)g(like)f(for)g(any)h(other)f
X(protocol.)19 b(However)n(,)13 b(the)112 1150 y(set)c(of)g(allowed)f
XFp(exchange)i(sequences)h Fv(\(usually)d(the)h(most)g(important)e(part)
Xi(of)g(a)h(protocol\))d(is)i(completely)112 1200 y(unspeci\256ed:)k(it)
X8 b(is)g(the)g(task)g(of)g(the)g(exchanged)h(messengers)h(to)e(trigger)
Xn(,)g(according)g(to)g(the)g(protocol)e(logic)112 1250
Xy(they)j(carry)i(with)e(them,)i(the)f(submission)f(of)h(subsequent)g
X(messengers.)174 1299 y(The)h(chosen)f(format)g(is)g(rather)g
X(conventional,)f(as)i(shows)f(the)g(data)h(layout)e(in)h(\256gure)g(2.)
X15 b(It)10 b(resembles)112 1349 y(very)g(much)h(the)f(internal)f
X(structure)h(of)g(an)h(exectable)h(binary)m(.)j(The)c(header)g(of)f(a)h
XFn(M\351)g Fv(messenger)h(is)e(16)g(or)112 1399 y(20)f(bytes)h(long)g
X(and)g(contains)g(the)g(following)e(\256elds:)112 1482
Xy Fh(16-bit)h(checksum:)22 b Fv(Contains)11 b(the)h Fm(CCITT)i
XFv(cyclic)e(redundancy)h(check)g(\()p Fm(CRC)p Fv(\))g(that)f(is)g
X(formed)g(over)h(the)215 1532 y(header)f(\(without)d
XFm(CRC)j Fv(\256eld\))f(and)g(the)g(code)g(\256eld.)18
Xb(The)12 b(data)f(\256eld)g(as)h(well)f(as)g(possible)g(padding)215
X1582 y(bytes)f(are)i(not)d(included)h(in)f(the)i(checksum)g
X(computation.)k(The)c(main)f(purpose)g(of)g(this)g(\256eld)g(is)g(to)
X215 1631 y(\252certify\272)h(that)f(the)g(data)g(packet)h(under)f(test)
Xg(in)f(fact)i Fp(is)f Fv(a)h(messenger)n(.)112 1714 y
XFh(8-bit)e(version:)21 b Fv(The)9 b(current)g(external)f(format)h
X(version)f(which)h(currently)f(is)g(de\256ned)h(to)g(be)g(0.)15
Xb(Note)8 b(that)215 1764 y(this)i Fp(format)f Fv(version)g(\256eld)i
X(is)f(dif)o(ferent)f(from)h(the)g Fn(M\351)h Fp(language)d
XFv(version)i(\()p 1340 1764 V 15 w Fn(ver)p Fv(\).)112
X1847 y Fh(1-bit)f(data)h(\257ag:)20 b Fv(The)11 b(most)f(signi\256cant)
Xf(bit)g(of)h(byte)g(3)g(signals)g(the)g(presence)i(of)e(a)h(data)f
X(\256eld.)112 1930 y Fh(7-bit)f(r)o(eserved:)23 b Fv(not)9
Xb(used)i(yet.)112 2013 y Fh(64-bit)e(pr)o(ocess)j(queue)f
X(identi\256er:)21 b Fv(The)16 b(64)f(bits)f(form)h(a)h
XFp(key)h Fv(that)d(is)h(used)h(to)e(identify)g(the)h(process)215
X2063 y(queue)e(into)e(which)h(the)g(process)h(should)f(be)g(started.)22
Xb(If)12 b(the)h(process)g(queue)f(is)h(currently)e(in)h(the)215
X2113 y(stop)e(state,)i(or)e(if)h(there)g(is)f(already)h(another)g
X(process)g(executing)f(in)h(this)e(queue,)j(the)f(execution)f(of)215
X2163 y(the)g(new)h(process)g(is)f(deferred)h(until)d(it)h(proceeds)i
X(at)g(the)f(queue')n(s)g(head)h(position.)112 2246 y
XFh(32-bit)e(code)i(length:)20 b Fv(Indicates)11 b(the)g(number)g(of)f
X(code)i(bytes.)17 b(The)12 b(lar)o(gest)f(allowed)f(value)h(is)g(2)1573
X2231 y Fj(31)1613 2246 y Fk(\000)f Fv(1.)215 2296 y(This)g(\256eld)h
X(does)f Fp(not)g Fv(account)g(for)g(possible)f(padding)g(bytes)h
X(between)h(code)g(and)f(data)h(\256eld.)112 2379 y Fh(32-bit)e(data)g
X(length:)21 b Fv(This)9 b(is)h(an)g(optional)e(\256eld)i(that)f(is)h
X(present)f(only)g(if)g(the)h(D-\257ag)g(is)f(set.)16
Xb(It)9 b(indicates)215 2428 y(the)h(number)h(of)f(data)g(bytes)g
X(present.)15 b(The)c(lar)o(gest)g(allowed)e(value)i(is)f(2)1278
X2413 y Fj(31)1318 2428 y Fk(\000)f Fv(1.)p 112 2464 630
X2 v 157 2492 a Fg(1)171 2503 y Fm(The)h(current)g(implementation)e
X(imposes)i(a)g(hard)f(limit)i(\(256)e(local)h(and)f(8096)g(global)g
X(data)h(objects\):)15 b(other)10 b(platforms)f(may)112
X2543 y(automatically)e(extend)h(the)g(\252table)g(of)h(elements\272)e
X(in)i(case)f(of)h(an)f(over\257ow)n(.)13 b(Note)8 b(that)h(questions)e
X(around)g(memory)h(management)112 2582 y(are)f(an)h(open)f(topic.)889
X2790 y Fv(4)p eop
X%%Trailer
Xend
Xuserdict /end-hook known{end-hook}if
X%%EOF
END_OF_FILE
if test 41764 -ne `wc -c <'M0-1.ps'`; then
    echo shar: \"'M0-1.ps'\" unpacked with wrong size!
fi
# end of 'M0-1.ps'
fi
echo shar: End of archive 8 \(of 12\).
cp /dev/null ark8isdone
MISSING=""
for I in 1 2 3 4 5 6 7 8 9 10 11 12 ; do
    if test ! -f ark${I}isdone ; then
	MISSING="${MISSING} ${I}"
    fi
done
if test "${MISSING}" = "" ; then
    echo You have unpacked all 12 archives.
    rm -f ark[1-9]isdone ark[1-9][0-9]isdone
else
    echo You still need to unpack the following archives:
    echo "        " ${MISSING}
fi
##  End of shell archive.
exit 0
